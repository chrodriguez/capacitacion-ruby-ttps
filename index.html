<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>TTPS: ruby</title>

  <meta name="viewport" content="width=device-width"/>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" />

  <script type="text/javascript" src="./js/jquery-1.7.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>
  <script type="text/javascript" src="./js/coffee-script.js"></script>

  
    
      <script type="text/javascript" src="./js/sh_lang/sh_ruby.min.js"></script>
    
      <script type="text/javascript" src="./js/sh_lang/sh_java.min.js"></script>
    
  

  
    <link rel="stylesheet" href="./file/base.css" type="text/css"/>
  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content center" ref="00-presentacion/01_slide/1">
<p><img src="./file/00-presentacion/ruby.png" alt="Ruby logo"/>

<h1>Tecnolog&#xED;as de Producci&#xF3;n de Software</h1>

<h2>Opci&#xF3;n Ruby</h2>
</p>
</div>
</div><div class="slide" data-transition="uncover">
  <div class="content smbullets" ref="00-presentacion/01_slide/2">
<h1>La c&#xE1;tedra</h1>

<ul>
<li><strong>Profesor:</strong> Lic. Christian A. Rodr&#xED;guez 
<a href="mailto:car@info.unlp.edu.ar" title="car@info.unlp.edu.ar"><img src="./file/00-presentacion/mail.png" alt="car@info.unlp.edu.ar"/>
<a href="https://twitter.com/car_unlp" title="twitter"><img src="./file/00-presentacion/twitter.png" alt="twitter"/>
<a href="https://github.com/chrodriguez" title="github"><img src="./file/00-presentacion/github.png" alt="github"/></a>
<li><strong>JTP:</strong> Lic. Patricio Mac Adden
<a href="mailto:patriciomacadden@gmail.com" title="patriciomacadden@gmail.com"><img src="./file/00-presentacion/mail.png" alt="patriciomacadden@gmail.com"/>
<a href="https://twitter.com/maxawen" title="twitter"><img src="./file/00-presentacion/twitter.png" alt="twitter"/>
<a href="https://github.com/patriciomacadden" title="github"><img src="./file/00-presentacion/github.png" alt="github"/></a>
<li><p><strong>Ayudantes:</strong> </p>

<ul>
<li>APU Fernando L&#xF3;pez
<a href="mailto:flopez@linti.unlp.edu.ar" title="flopez@linti.unlp.edu.ar"><img src="./file/00-presentacion/mail.png" alt="flopez@linti.unlp.edu.ar"/>
<a href="https://github.com/fernandolopez" title="github"><img src="./file/00-presentacion/github.png" alt="github"/></a>
<li>Fernando Martinez
<a href="mailto:fernando.martinez@live.com.ar" title="rapofran@gmail.com"><img src="./file/00-presentacion/mail.png" alt="fernando.martinez@live.com.ar"/>
<a href="https://twitter.com/F_3r" title="twitter"><img src="./file/00-presentacion/twitter.png" alt="twitter"/>
<a href="https://github.com/f-3r" title="github"><img src="./file/00-presentacion/github.png" alt="github"/></a>
<li>APU J. Francisco Raposeiras
<a href="mailto:rapofran@gmail.com" title="rapofran@gmail.com"><img src="./file/00-presentacion/mail.png" alt="rapofran@gmail.com"/>
<a href="https://twitter.com/rapofran" title="twitter"><img src="./file/00-presentacion/twitter.png" alt="twitter"/>
<a href="https://github.com/rapofran" title="github"><img src="./file/00-presentacion/github.png" alt="github"/></a>
</a></a>
</li>
</a>
</a>
</li></a></li></ul></li></a></a></li></a></a></li></ul></div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="00-presentacion/01_slide/3">
<h1>Horarios de cursada</h1>

<ul>
<li><strong>Lunes de 19 a 21 Aula 1-1</strong></li>
<li><strong>Jueves de 19 a 21 Aula 1-1</strong></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="00-presentacion/01_slide/4">
<h1>Programa</h1>

<ul>
<li>Metodolog&#xED;as &#xE1;giles</li>
<li>Sistemas de control de versiones: GIT</li>
<li>El lenguaje Ruby

<ul>
<li>Introducci&#xF3;n</li>
<li>VMs: MRI, Rubinius, jRuby</li>
<li>Preparaci&#xF3;n del entorno</li>
<li>Objetos, arreglos, hashes, s&#xED;mbolos, tipos est&#xE1;ndar</li>
<li>Estructuras de control</li>
<li>Bloques e iteradores</li>
<li>E/S estandar</li>
<li>Clases de objetos, m&#xE9;todos y variables</li>
<li>M&#xF3;dulos y mixins</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="00-presentacion/01_slide/5">
<h1>Programa</h1>

<ul>
<li>TDD</li>
<li>Gemas: rubygems</li>
<li>Rake</li>
<li>Bundler</li>
<li>HTTP</li>
<li>La web

<ul>
<li>Rack</li>
<li>Sinatra</li>
<li>ORMs</li>
<li>Rails</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="00-presentacion/01_slide/6">
<h1>Modalidad de cursada</h1>

<ul>
<li>Clases te&#xF3;rico pr&#xE1;cticas</li>
<li>Compromisos semanales con los alumnos</li>
<li>Trabajo en grupo. Los grupos podr&#xE1;n ir cambiando a lo largo de la cursada</li>
<li>Aprobaci&#xF3;n de la cursada mediante trabajo pr&#xE1;ctico y coloquio</li>
<li>Aprobaci&#xF3;n de la materia mediante extensi&#xF3;n del trabajo pr&#xE1;ctico y coloquio</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="00-presentacion/01_slide/7">
<h1>Bibliograf&#xED;a / Recursos</h1>

<ul>
<li>A medida que se presenten los temas se indicar&#xE1;n las fuentes apropiadas</li>
<li>Todo el material se encuentra bajo licencia <strong>Creative Commons</strong>:</li>
</ul>

<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es"><img alt="Licencia Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png"/></a><br/><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">TTPS - Opcion
Ruby</span> por <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Christian A. Rodriguez</span> se encuentra bajo
una <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.es">Licencia
Creative Commons Atribuci&#xF3;n-NoComercial-CompartirIgual 3.0 Unported</a>.</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/01_slide/1">
<h1>Metodolog&#xED;as &#xC1;giles</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/01_slide/2">
<h1>Temas</h1>

<ul>
<li>Introducci&#xF3;n al proceso del software</li>
<li>Metodolog&#xED;as Tradicionales</li>
<li>Metodolog&#xED;as &#xC1;giles</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/02_proceso_software/1">
<h1>Introducci&#xF3;n al proceso del software</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/02_proceso_software/2">
<h1>Mejora de los procesos de producci&#xF3;n</h1>

<ul>
<li>Todo proyecto necesita ser ejecutado y entregado bajo ciertas restricciones</li>
<li>Estas restricciones son:

<ul>
<li>Alcance</li>
<li>Plazo</li>
<li>Costo</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/02_proceso_software/3">
<h1>Mejora de los procesos de producci&#xF3;n</h1>

<p><img src="./file/01-agiles/triangulo-gestion-proyectos.png" alt="triangulo"/>

<ul>
<li>Tri&#xE1;ngulo de la Gesti&#xF3;n de Proyectos

<ul>
<li>Cada lado del tri&#xE1;ngulo representa una restricci&#xF3;n</li>
<li>Un lado no podr&#xE1; ser modificado sin impactar a los otros</li>
</ul></li>
</ul>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets incremental" ref="01-agiles/02_proceso_software/4">
<h1>&#xBF;Qu&#xE9; es lo que queremos conseguir?</h1>

<ul>
<li>Mayor <strong>productividad</strong>

<ul>
<li><em>Relaci&#xF3;n entre los resultados y el tiempo utilizado para obtenerlos</em></li>
</ul></li>
<li>Mayor <strong>calidad</strong>

<ul>
<li><em>Que el producto final satisfaga las necesidades del usuario</em></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets incremental" ref="01-agiles/02_proceso_software/5">
<h1>&#xC1;mbitos de mejora en Ingenier&#xED;a de software</h1>

<ul>
<li><strong>Notaci&#xF3;n:</strong> lenguajes</li>
<li><strong>Herramientas:</strong> IDEs, frameworks</li>
<li><strong>Procesos:</strong> <em>metodolog&#xED;as</em></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/02_proceso_software/6">
<h1>Un modelo de proceso a <em>medida</em></h1>

<ul>
<li><span class="letter_box" style="background-color: yellow">P</span> Planificaci&#xF3;n</li>
<li><span class="letter_box" style="background-color: #FFCC33">R</span> Requisitos</li>
<li><span class="letter_box" style="background-color: #FF3366">D</span>
Arquitectura y dise&#xF1;o</li>
<li><span class="letter_box" style="background-color: #CCCCFF">C</span>
Codificaci&#xF3;n (programaci&#xF3;n)</li>
<li><span class="letter_box" style="background-color: #66FF99">T</span> Testeo de
aceptaci&#xF3;n</li>
<li><span class="letter_box" style="background-color: #B0B0B0">D</span> Despliegue
(deployment)</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/02_proceso_software/7">
<h1>Proceso secuencial</h1>

<h2>En este ejemplo no hay solapamiento</h2>

<p><img src="./file/01-agiles/01-proceso-secuencial.png" alt="proceso secuencial"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/02_proceso_software/8">
<h1>Proceso en cascada</h1>

<h2>Es mejor solapar trabajo</h2>

<p><img src="./file/01-agiles/02-proceso-cascada.png" alt="proceso en cascada"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/02_proceso_software/9">
<h1>Proceso incremental</h1>

<p><img src="./file/01-agiles/03-proceso-incremental.png" alt="proceso incremental"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/02_proceso_software/10">
<h1>Proceso incremental</h1>

<h2>Mejor hacer <em>todo</em> incremental</h2>

<p><img src="./file/01-agiles/04-proceso-incremental-completo.png" alt="proceso incremental"/>

<p><em>Pero... &#xBF;C&#xF3;mo planificar sin saber qu&#xE9; hacer?</em></p>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/02_proceso_software/11">
<h1>Proceso incremental con fase de exploraci&#xF3;n</h1>

<p><img src="./file/01-agiles/05-proceso-incremental-exploracion.png" alt="proceso incremental"/>

<p><em>&#xBF;Si deseamos obtener validaciones frecuentes con el cliente?</em></p>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/02_proceso_software/12">
<h1>Proceso iterativo e incremental</h1>

<p><img src="./file/01-agiles/06-proceso-iterativo-incremental.png" alt="proceso incremental">
<em>&#xBF;Y con pruebas de regresi&#xF3;n entre iteraciones?</em></img>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/02_proceso_software/13">
<p><img src="./file/01-agiles/07-proceso-iterativo-incremental-regresion.png" alt="proceso incremental"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/02_proceso_software/14">
<h1>Modelos de proceso y metodolog&#xED;as</h1>

<ul>
<li>Aportan disciplina a la Ingenier&#xED;a de Software</li>
<li>Un modelo de proceso es una estrategia <em>global</em> respecto de c&#xF3;mo
abordar un proyecto</li>
<li>Una <strong>metodolog&#xED;a</strong> define <strong>Qui&#xE9;n</strong> debe hacer <strong>Qu&#xE9;</strong>, <strong>Cu&#xE1;ndo</strong> y <strong>C&#xF3;mo</strong>
debe hacerlo

<ul>
<li>Metodolog&#xED;as tradicionales</li>
<li>Metodolog&#xED;as &#xE1;giles</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/02_proceso_software/15">
<h1>Actividad</h1>

<h2>The Hard Choice Game</h2>

<p class="notes">Se requieren unos 40 minutos para realizar la actividad. Se trata de una
sencilla e interesante actividad para ilustrar el concepto de Deuda T&#xE9;cnica.
Pero m&#xE1;s all&#xE1; de dicho prop&#xF3;sito, esta actividad permite motivar al inicio de un curso, 
lo diferente que es una estrategia de trabajo en equipo respecto de una estrategia 
de trabajo individual. Ver m&#xE1;s en https://github.com/TTPS-ruby/capacitacion-ruby-ttps/blob/master/actividades/01-agiles/hard_choices.md</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="01-agiles/02_proceso_software/16">
<h1>Sobre el juego</h1>

<h2>Reglas b&#xE1;sicas</h2>

<ul>
<li>Armar grupos de no m&#xE1;s de 5 personas y no menos de 2</li>
<li>Cada persona utilizar&#xE1; una ficha y lanzar&#xE1; en turnos el los dados</li>
<li>Arrancar&#xE1; el jugador que lance el n&#xFA;mero m&#xE1;s alto</li>
<li>Los turnos son en sentido horario</li>
<li>Al llegar a la meta:

<ul>
<li>El primer jugador en llegar obtiene <strong>5 puntos</strong></li>
<li>El segundo <strong>2 puntos</strong></li>
<li>El tercero <strong>1 punto</strong></li>
</ul></li>
<li>El juego termina cuando hayan llegado tres jugadores a la meta, el resto <strong>no
cuenta</strong></li>
<li>No es necesario caer exactamente en la celda de la meta para finalizar</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="01-agiles/02_proceso_software/17">
<h1>Sobre el juego</h1>

<h2>Puntuaci&#xF3;n</h2>

<ul>
<li>Cuando se cae en una celda de herramienta se <strong>recoge una tarjeta de
herramienta</strong>

<ul>
<li><em>Las tarjetas de herramienta dar&#xE1;n un punto adicional en el c&#xF3;mputo del
jugador</em></li>
</ul></li>
<li>Cuando se cae o pasa por un puente se recoge una tarjeta de puente. 

<ul>
<li><em>Las tarjetas de puente restar&#xE1;n un punto en el c&#xF3;mputo del jugador</em></li>
</ul></li>
<li>Un jugador en su turno puede <strong>cambiar de direcci&#xF3;n</strong>, es decir, puede volver
hacia atr&#xE1;s para intentar caer en una celda de herramienta <em>luego de haber
lanzado los dados</em></li>
<li>Caer sobre la ficha de otro jugador le devuelve al inicio :-)</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/02_proceso_software/18">
<h1>Empieza el juego</h1>

<h2>Ronda 1</h2>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/02_proceso_software/19">
<h1>Nueva jugada</h1>

<h2>Ronda 2: cambian las reglas</h2>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/02_proceso_software/20">
<h1>Nuevas reglas</h1>

<ul>
<li>Solo jugamos por 6 minutos</li>
<li>Ajustamos el
<a href="http://www.online-stopwatch.com/full-screen-stopwatch/">cron&#xF3;metro</a></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets incremental" ref="01-agiles/02_proceso_software/21">
<h1>Conclusiones</h1>

<ul>
<li>&#xBF;Qu&#xE9; estrategias utilizaron?</li>
<li>&#xBF;Como fu&#xE9; el comportamiento de los participantes en cada tablero?

<ul>
<li><strong>Ronda 1:</strong> relajaci&#xF3;n, apat&#xED;a y ego&#xED;smo. La argentinidad al palo...</li>
<li><strong>Ronda 2:</strong> tensi&#xF3;n, colaboraci&#xF3;n e incluso sacrificio si alguien dej&#xF3; de 
jugar</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets incremental small" ref="01-agiles/02_proceso_software/22">
<h1>Comparamos con un proyecto de software</h1>

<ul>
<li>El tiempo establecido es el plazo del proyecto.

<ul>
<li>Hay muchas formas de llegar a la meta</li>
</ul></li>
<li>Recoger herramientas es aplicar buenas pr&#xE1;cticas de ingenier&#xED;a de software</li>
<li>Utilizar puentes o atajos es saltarse dichas buenas pr&#xE1;cticas 

<ul>
<li>No esforzarse por conseguir una arquitectura ideal</li>
</ul></li>
<li><strong><em>Sin embargo, para el &#xE9;xito del proyecto puede que no sea tan determinante una
buena arquitectura respecto de entregar un producto que cumple con las expectativas
del cliente y en el plazo oportuno</em></strong>

<ul>
<li><em>No se puede estar eternamente eligiendo herramientas</em></li>
<li><em>Tampoco tiene sentido llegar a la meta con un producto muy pobre en arquitectura lo cual
puede ocasionar problemas en el posterior mantenimiento</em></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/03_intro_tradicional/1">
<h1>Metodolog&#xED;as Tradicionales</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/03_intro_tradicional/2">
<h1>Introducci&#xF3;n</h1>

<ul>
<li><strong>RUP (Rational Unified Process)</strong> es la metodolog&#xED;a tardicional m&#xE1;s conocida
y mejor documentada</li>
<li>Actualmente es un producto de IBM, pero su esencia est&#xE1; descrita en el libro
<em><a href="http://books.google.com.ar/books/about/The_Unified_Software_Development_Process.html?id=p6-KQlg9IVUC&amp;redir_esc=y">The Unified Software Development
Process</a></em> </li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="01-agiles/03_intro_tradicional/3">
<h1>Elementos RUP</h1>

<h2>Workflows o disciplinas</h2>

<ul>
<li><strong>Workflows primarios</strong>

<ul>
<li>Business Modeling (Modado del Negocio)</li>
<li>Requirements (Requisitos)</li>
<li>Analysis &amp; Design (An&#xE1;lisis y Dise&#xF1;o)</li>
<li>Implementation (Implementaci&#xF3;n)</li>
<li>Test (Pruebas)</li>
<li>Deployment (Despliegue)</li>
</ul></li>
<li><strong>Workflows de Apoyo</strong>

<ul>
<li>Environment (Entorno)</li>
<li>Project Management (Gesti&#xF3;n del Proyecto)</li>
<li>Configuration &amp; Change Management (Gesti&#xF3;n de
Configuraci&#xF3;n y Cambios)</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="01-agiles/03_intro_tradicional/4">
<h1>Elementos RUP</h1>

<h2>Roles y actividades</h2>

<ul>
<li>Analyst

<ul>
<li>Business-Process Analyst</li>
<li>Business Designer</li>
<li>Business-Model Reviewer</li>
<li>Requirements Reviewer</li>
<li>System Analyst</li>
<li>Use-Case Specifier</li>
<li>User-Interface Designer</li>
</ul></li>
<li>Developer

<ul>
<li>Architect</li>
<li>Architecture Reviewer</li>
<li>Capsule Designer</li>
<li>Code Reviewer</li>
<li>Database Designer</li>
<li>Design Reviewer</li>
<li>Designer</li>
<li>Implementer</li>
<li>Integrator</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="01-agiles/03_intro_tradicional/5">
<h1>Elementos RUP</h1>

<h2>Roles y actividades</h2>

<ul>
<li>Testing professional

<ul>
<li>Test Designer</li>
<li>Tester</li>
</ul></li>
<li>Manager

<ul>
<li>Change Control Manager</li>
<li>Configuration Manager</li>
<li>Deployment Manager</li>
<li>Process Engineer</li>
<li>Project Manager</li>
<li>Project Reviewer</li>
</ul></li>
<li>Other

<ul>
<li>Course Developer</li>
<li>Graphic Artist</li>
<li>Stakeholder</li>
<li>System Administrator</li>
<li>Technical Writer</li>
<li>Tool Specialist</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/03_intro_tradicional/6">
<h1>Caracter&#xED;sticas esenciales de RUP</h1>

<ul>
<li>Proceso Dirigido por los Casos de Uso</li>
<li>Proceso Iterativo e Incremental</li>
<li>Proceso Centrado en la Arquitectura</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/03_intro_tradicional/7">
<h1>Proceso Dirigido por los Casos de Uso</h1>

<h2>&#xBF;Como es el proceso?</h2>

<p><img src="./file/01-agiles/08-rup-casos-de-uso.png" alt="Proceso dirigido por los casos de uso"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/03_intro_tradicional/8">
<h1>Proceso Iterativo e Incremental</h1>

<ul>
<li>El ciclo de vida iterativo se basa en la evoluci&#xF3;n de prototipos ejecutables 
que se muestran a los usuarios y clientes</li>
<li>En el ciclo de vida iterativo a cada iteraci&#xF3;n se reproduce el ciclo de vida 
en cascada a menor escala</li>
<li>Los objetivos de una iteraci&#xF3;n se establecen en funci&#xF3;n de la evaluaci&#xF3;n de 
las iteraciones precedentes</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/03_intro_tradicional/9">
<h1>Proceso Iterativo e Incremental</h1>

<p>Para cada caso de uso implementado en la iteraci&#xF3;n, sus actividades se encadenan
en una mini cascada</p>

<p><img src="./file/01-agiles/09-rup-mini-cascada.png" alt="mini cascada"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/03_intro_tradicional/10">
<h1>Proceso Centrado en la arquitectura</h1>

<ul>
<li>La arquitectura de un sistema es la organizaci&#xF3;n o estructura de sus partes m&#xE1;s 
relevantes</li>
<li>Una arquitectura ejecutable es una implementaci&#xF3;n parcial del sistema, construida 
para demostrar algunas funciones y propiedades</li>
<li>RUP establece refinamientos sucesivos de una arquitectura ejecutable, construida 
como un prototipo evolutivo</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/04_intro_agiles/1">
<h1>Metodolog&#xED;as &#xC1;giles</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/04_intro_agiles/2">
<h1>Ser &#xE1;gile es actuar seg&#xFA;n el manifiesto &#xE1;gil</h1>

<h2>Manifiesto por el Desarrollo &#xC1;gil de Software</h2>

<p>Estamos descubriendo formas mejores de desarrollar
software tanto por nuestra propia experiencia como
ayudando a terceros. A trav&#xE9;s de este trabajo hemos
aprendido a valorar:</p>

<p><strong>Individuos e interacciones</strong> <em>sobre procesos y herramientas</em>
<strong>Software funcionando</strong> <em>sobre documentaci&#xF3;n extensiva</em>
<strong>Colaboraci&#xF3;n con el cliente</strong> <em>sobre negociaci&#xF3;n contractual</em>
<strong>Respuesta ante el cambio</strong> <em>sobre seguir un plan</em></p>

<p>Esto es, aunque valoramos los elementos de la derecha,
valoramos m&#xE1;s los de la izquierda.</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/04_intro_agiles/3">
<h1>Principios del Manifiesto &#xC1;gil</h1>

<ul>
<li><p>Nuestra mayor prioridad es satisfacer al cliente
mediante la entrega temprana y continua de software
con valor.</p></li>
<li><p>Aceptamos que los requisitos cambien, incluso en etapas 
tard&#xED;as del desarrollo. Los procesos &#xC1;giles aprovechan
el cambio para proporcionar ventaja competitiva al 
cliente.</p></li>
<li><p>Entregamos software funcional frecuentemente, entre dos
semanas y dos meses, con preferencia al periodo de 
tiempo m&#xE1;s corto posible.</p></li>
<li><p>Los responsables de negocio y los desarrolladores
trabajamos juntos de forma cotidiana durante todo
el proyecto.</p></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/04_intro_agiles/4">
<h1>Principios del Manifiesto &#xC1;gil</h1>

<ul>
<li><p>Los proyectos se desarrollan en torno a individuos 
motivados. Hay que darles el entorno y el apoyo que 
necesitan, y confiarles la ejecuci&#xF3;n del trabajo. </p></li>
<li><p>El m&#xE9;todo m&#xE1;s eficiente y efectivo de comunicar 
informaci&#xF3;n al equipo de desarrollo y entre sus 
miembros es la conversaci&#xF3;n cara a cara.</p></li>
<li><p>El software funcionando es la medida principal de 
progreso.</p></li>
<li><p>Los procesos &#xC1;giles promueven el desarrollo 
sostenible. Los promotores, desarrolladores y usuarios
debemos ser capaces de mantener un ritmo constante 
de forma indefinida.</p></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/04_intro_agiles/5">
<h1>Principios del Manifiesto &#xC1;gil</h1>

<ul>
<li><p>La atenci&#xF3;n continua a la excelencia t&#xE9;cnica y al 
buen dise&#xF1;o mejora la Agilidad.</p></li>
<li><p>La simplicidad, o el arte de maximizar la cantidad de
trabajo no realizado, es esencial.</p></li>
<li><p>Las mejores arquitecturas, requisitos y dise&#xF1;os
emergen de equipos auto-organizados.</p></li>
<li><p>A intervalos regulares el equipo reflexiona sobre
c&#xF3;mo ser m&#xE1;s efectivo para a continuaci&#xF3;n ajustar y
perfeccionar su comportamiento en consecuencia.</p></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="01-agiles/04_intro_agiles/6">
<h1>&#xBF;Por qu&#xE9; surgen las metodolog&#xED;as &#xE1;giles?</h1>

<ul>
<li>Dificultades para implantar metodolog&#xED;as
tradicionales. Procesos ceremoniosos, herramientas y
notaciones de modelado sofisticadas (UML)</li>
<li>El enfoque &#xE1;gil es una soluci&#xF3;n a medida para un
segmento importante de proyectos de desarrollo de
software</li>
<li><em>"Aceptar el cambio" ...</em></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="01-agiles/04_intro_agiles/7">
<h1>Metodolog&#xED;as y t&#xE9;cnicas &#xE1;giles m&#xE1;s populares</h1>

<ul>
<li><strong>Kanban</strong>, <em>Andrew J. Davison</em></li>
<li><strong>Scrum</strong>, <em>Ken Schwaber &amp; Jeff Sutherland</em></li>
<li><strong>Extreme Programming</strong>, <em>Kent Beck</em></li>
<li><strong>Lean Software Development</strong>, <em>Mary Poppendieck</em></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="01-agiles/05_scrum/1">
<h1>SCRUM</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/05_scrum/2">
<h1>Introducci&#xF3;n</h1>

<p>SCRUM se basa en lo que se conoce como <strong>Sprints</strong></p>

<p><em>Un sprint concentra el esfuerzo durante un per&#xED;odo corto de tiempo hacia metas
prefijadas</em></p>

<p><img src="./file/01-agiles/10-scrum-01.png" alt="sprint"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="01-agiles/05_scrum/3">
<h1>Introducci&#xF3;n</h1>

<ul>
<li>El <strong>Product Owner (PO)</strong> compila todos los pedidos planificados para el producto y
prioriza las funcionalidades</li>
<li>El resultado del trabajo del PO es el <strong>Product Backlog</strong>, una lista de tareas
o <strong>TODO</strong> que constantemente se prioriza. Antes de cada Sprint, las tareas de
mayor prioridad son introducidas al <strong>Spring Backlog</strong></li>
<li>En conjunto con el usuario, los miembros del proyecto forman un <strong>Scrum Team</strong>
integrado por 5-9 personas. Luego de reuniones con el PO, se determina el
objetivo del Sprint y la funcionalidad priorizada, se explota en tareas
detalladas.

<ul>
<li>Notar que el cliente es parte del Scrum Team</li>
<li>El Scrum Team es auto-organizado y los miembros tienen una
responsabilidad conjunta en torno a los resultados</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/05_scrum/4">
<h1>Introducci&#xF3;n</h1>

<ul>
<li>El <strong>Scrum Master</strong> coordina al equipo de desarrollo, evitando cualquier
posible impedimento, y constantemente trata de asegurar que el equipo se
encuentre en las mejores circunstancias posibles de forma de poder cumplir con
el objetivo fijado para el Sprint

<ul>
<li>No es necesario que sea t&#xE9;cnico</li>
</ul></li>
<li>Cada Sprint realza el valor del producto, agregando nuevas funcionalidades y
mejoras que pueden entregarse al cliente</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/05_scrum/5">
<h1>Roles</h1>

<h2>Scrum Team</h2>

<ul>
<li>Son quienes resuelven problemas y dise&#xF1;an soluciones. Normalmente se compone de
5 a 9 integrantes - <em>este n&#xFA;mero de personas en un grupo ha demostrado ser el
adecuado para este tipo de trabajos</em></li>
<li>Los miembros deciden c&#xF3;mo organizar el trabajo y c&#xF3;mo se realiza distribuci&#xF3;n
de tareas. No hay roles fijados - <em>todos podr&#xE1;n cambiar de tareas con
cualquier otro miembro</em>. Esto no implica que no existan miembros que sean
expertos en determinado campo.</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="01-agiles/05_scrum/6">
<h1>Roles</h1>

<h2>Product Owner</h2>

<ul>
<li>Es la voz del cliente</li>
<li>Asegura que el Scrum Team trabaje con una adecuada perspectiva del negocio</li>
<li>Es quien administra el Product Backlog - <em>una lista de tareas pendientes donde
todas las especificaciones para el producto son expresadas indicando cu&#xE1;n
rentables considera que son</em>

<ul>
<li>El documento debe ser visible por toda la organizaci&#xF3;n de forma tal que
<strong>todos</strong> est&#xE9;n al tanto de qu&#xE9; se espera en futuras versiones del producto</li>
</ul></li>
<li>El PO generalmente es el cliente, pero puede ser parte interna de la
organizaci&#xF3;n. </li>
<li>Es aconsejable que el PO tenga un perfil comercial y conozca bien los procesos
de negocio</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/05_scrum/7">
<h1>Roles</h1>

<h2>Scrum Master</h2>

<ul>
<li>Es una combinaci&#xF3;n de los roles de: mentor, mediador, resolver problemas y portero.</li>
<li>Debe tener breves reuniones diarias con el equipo - <em>Daily Scrums</em></li>
<li>Cuando alguien externo al proyecto introduce un tema importante para discutir
con el equipo, el Scrum Master trata de asegurar que los integrantes se distraigan 
lo menos posible</li>
<li>Debe mantener la postura de <em>aqu&#xED; y ahora</em> en relaci&#xF3;n al trabajo</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/05_scrum/8">
<h1>Roles</h1>

<h2>Scrum Master</h2>

<ul>
<li>Focaliza sus esfuerzos en facilitar al equipo con las mejores circunstancias
para alcanzar las metas acordadas para el Sprint</li>
<li>Luego de cada Sprint, el Scrum Master mantiene una reuni&#xF3;n de evaluaci&#xF3;n con
el equipo completo - <em>Retrospectiva del Sprint</em>

<ul>
<li>Se analizan experiencias y obtienen conclusiones</li>
<li>El objetivo es elevar el conocimiento global del equipo y motivar antes del
pr&#xF3;ximo Sprint</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/05_scrum/9">
<h1>Procesos</h1>

<h2>Creando el backlog</h2>

<ul>
<li>El PO recompila todos los requerimientos y especificaciones que son la base
de los cambios a introducir al producto: nuevas funcionalidades y correcci&#xF3;n
de errores</li>
<li>De aqu&#xED; se obtiene una lista priorizada de aquellos cambios que se desean
porque tienen valor para la organizacion.</li>
<li>Al inicio de cada Sprint el PO deber&#xED;a <em>congelar</em> los principales items de la
lista y presentarlos al equipo de Scrum</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/05_scrum/10">
<h1>Procesos</h1>

<h2>El Sprint</h2>

<ul>
<li>De los d&#xED;as destinados a cada sprint (generalmente 15-30 d&#xED;as), los primeros
se utilizan para crear el <em>Sprint Backlog</em></li>
<li>Cuando se determian las tareas y tiempo para realizarlas, el PO deja de
participar</li>
<li>El equipo trabajar&#xE1; bajo su propia responsabilidad</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="01-agiles/05_scrum/11">
<h1>Procesos</h1>

<h2>Scrum diario</h2>

<ul>
<li>Cada d&#xED;a, a la misma hora, el Scrum Master con el equipo tienen una breve
reunoi&#xF3;n</li>
<li>El prop&#xF3;sito es el de <em>eliminar</em> todos los impedimentos de velocidad en el
grupo</li>
<li>Cada participante deber&#xED;a, de alguna manera, responder a las siguientes
preguntas:

<ul>
<li>&#xBF;Qu&#xE9; es lo que hizo desde la &#xFA;ltima reuni&#xF3;n?</li>
<li>&#xBF;Qu&#xE9; har&#xE1; desde ahora hasta la pr&#xF3;xima reuni&#xF3;n?</li>
<li>&#xBF;Hay algo que no permita avanzar en lo planificado?</li>
</ul></li>
</ul>

<p><em>Las dos primeras preguntas ofrecen a los participantes una visi&#xF3;n global del
avance del proyecto. La tercera, sirve para solucionar problemas</em></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/05_scrum/12">
<h1>M&#xE9;tricas</h1>

<ul>
<li>Las tareas en el Sprint Backlog deben estimarse en cantidad de horas

<ul>
<li>El Sprint Backlog entonces tiene una cantidad de horas pendientes</li>
</ul></li>
<li>Diariamente podemos analizar el avance del equipo usando un gr&#xE1;fico conocido
como <strong>burn-down</strong></li>
</ul>

<p><img src="./file/01-agiles/10-scrum-02.png" alt="burndown"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="01-agiles/05_scrum/13">
<h1>SCRUM en 10 minutos</h1>

<h2>Un video &#xE1;gil</h2>

<div style="text-align: center">
<iframe width="560" height="315" src="//www.youtube.com/embed/XU0llRltyFM" frameborder="0"> </iframe>
</div>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="01-agiles/06_referencias">
<h1>Referencias</h1>

<ul>
<li>http://agilemanifesto.org/</li>
<li>http://tastycupcakes.org/</li>
<li>http://agilismoatwork.blogspot.com.ar/</li>
<li>http://psw.tuneupprocess.com/</li>
<li>http://softhouseeducation.com/en/produkt/scrum-five-minutes</li>
<li>http://www.mountaingoatsoftware.com/</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="02-git/01_basics/1">
<h1>GIT</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/01_basics/2">
<h1>Caracter&#xED;sticas</h1>

<ul>
<li>Snapshots, no diferencias</li>
<li>Casi todas las operaciones son locales</li>
<li>Tiene integridad</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/01_basics/3">
<h1>Los 3 estados</h1>

<ul>
<li>Working directory</li>
<li>Staging area</li>
<li>Git directory (Repositorio)</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="02-git/01_basics/4">
<h1>Operaciones locales</h1>

<p><img src="./file/02-git/18333fig0106-tn.png" alt="local-operations"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/01_basics/5">
<h1>Obteniendo un repositorio git</h1>

<ul>
<li>Inicializar un repositorio en un directorio existente</li>
</ul>

<p><code>
$ git init
</code></p>

<ul>
<li>Clonando un repositorio existente</li>
</ul>

<p><code>
$ git clone https://github.com/rails/rails.git
</code></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="02-git/01_basics/6">
<h1>Ciclo de vida de un archivo</h1>

<p><img src="./file/02-git/18333fig0201-tn.png" alt="file-status-lifecycle"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/01_basics/7">
<h1>Remotos</h1>

<ul>
<li>Son repositorios externos (ejemplo: de coworkers).</li>
<li>Puede haber n remotos</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="02-git/01_basics/8">
<h1>El workflow completo</h1>

<p><img src="./file/02-git/git-workflow.png" alt="workflow completo git"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="02-git/01_basics/9">
<h1>Actividad con GIT</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="02-git/01_basics/10">
<h1>Interacci&#xF3;n con GIT</h1>

<ul>
<li><p>Objetivo</p>

<ul>
<li>Instalar <code>git</code></li>
<li>Aprender el workflow simple de trabajo con git</li>
</ul></li>
<li><p>Actividad</p>

<ul>
<li>Acceder a <a href="https://github.com/TTPS-ruby/sandbox">https://github.com/TTPS-ruby/sandbox</a></li>
<li>Leer la actividad para el directorio <code>alumnos/</code></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/1">
<h1>&#xBF;Qu&#xE9; es un branch?</h1>

<ul>
<li>Es un puntero a un commit</li>
</ul>

<p><img src="./file/02-git/18333fig0304-tn.png" alt="what-a-branch-is"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/2">
<h1>&#xBF;Y c&#xF3;mo sabe git en que branch estamos actualmente?</h1>

<ul>
<li>Otro puntero: HEAD</li>
</ul>

<p><img src="./file/02-git/18333fig0305-tn.png" alt="head"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/3">
<h1>Cambiando de branch</h1>

<p><code>
$ git checkout testing
</code></p>

<p><img src="./file/02-git/18333fig0306-tn.png" alt="checkout"/>

<ul>
<li>Lo &#xFA;nico que hace es cambiar HEAD!</li>
</ul>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/4">
<h1>Haciendo cambios en un branch</h1>

<p><code>
$ vi test.rb
</code></p>

<p><code>
$ git commit -am 'made a change'
</code></p>

<p><img src="./file/02-git/18333fig0307-tn.png" alt="changing-branches"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/5">
<h1>Volviendo a master</h1>

<p><code>
$ git checkout master
</code></p>

<p><img src="./file/02-git/18333fig0308-tn.png" alt="master"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/6">
<h1>Haciendo cambios en master</h1>

<p><code>
$ vi test.rb
</code></p>

<p><code>
$ git commit -am 'made other changes'
</code></p>

<p><img src="./file/02-git/18333fig0309-tn.png" alt="more-changes"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/7">
<h1>Branching y merging</h1>

<p><img src="./file/02-git/18333fig0310-tn.png" alt="first"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/8">
<h1>Branching y merging</h1>

<p><img src="./file/02-git/18333fig0311-tn.png" alt="second"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/9">
<h1>Branching y merging</h1>

<p><img src="./file/02-git/18333fig0312-tn.png" alt="third"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/10">
<h1>Branching y merging</h1>

<p><img src="./file/02-git/18333fig0313-tn.png" alt="fourth"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/11">
<h1>Branching y merging: fast-forward</h1>

<p><code>
$ git checkout master
</code></p>

<p><code>
$ git merge hotfix
</code></p>

<p><img src="./file/02-git/18333fig0314-tn.png" alt="fifth"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/12">
<h1>Branching y merging</h1>

<p><img src="./file/02-git/18333fig0315-tn.png" alt="sixth"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/13">
<h1>Branching y merging: merge made by recursive</h1>

<p><code>
$ git checkout master
</code></p>

<p><code>
$ git merge iss53
</code></p>

<p><img src="./file/02-git/18333fig0316-tn.png" alt="seventh"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/14">
<h1>Branching y merging</h1>

<p><img src="./file/02-git/18333fig0317-tn.png" alt="eighth"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/15">
<h1>Merge: Conflictos</h1>

<ul>
<li>Remotos</li>
</ul>

<p><img src="./file/02-git/18333fig0322-tn.png" alt="remote"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/16">
<h1>Merge: Conflictos</h1>

<p><img src="./file/02-git/18333fig0323-tn.png" alt="remote-2"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/17">
<h1>Merge: Conflictos</h1>

<p><img src="./file/02-git/18333fig0324-tn.png" alt="remote-3"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/18">
<h1>Merge: rebasing</h1>

<ul>
<li>Tomar un patch del cambio y re-aplicarlo en otro branch</li>
</ul>

<p><img src="./file/02-git/18333fig0327-tn.png" alt="rebasing"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/19">
<h1>Merge: rebasing</h1>

<p><code>
$ git checkout experiment
</code></p>

<p><code>
$ git rebase master
</code></p>

<p><img src="./file/02-git/18333fig0329-tn.png" alt="rebasing-2"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/20">
<h1>Merge: rebasing</h1>

<p><img src="./file/02-git/18333fig0330-tn.png" alt="rebasing-2"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="02-git/02_branches/21">
<h1>Merge: rebasing</h1>

<ul>
<li>La historia es m&#xE1;s limpia</li>
<li>Simula una historia lineal</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="02-git/03_actividades/1">
<h1>Entrega obligatoria</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="02-git/03_actividades/2">
<h1>El enunciado</h1>

<ul>
<li>Acceder a <a href="https://github.com/TTPS-ruby/sandbox">https://github.com/TTPS-ruby/sandbox</a>

<ul>
<li>Leer la actividad para el directorio <code>cancionero/</code></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="02-git/04_referencias">
<h1>Referencias</h1>

<ul>
<li><p>Lecturas</p>

<ul>
<li><a href="http://git-scm.com/book">Pro Git</a></li>
<li><a href="https://www.kernel.org/pub/software/scm/git/docs/gittutorial.html">Git tutorial</a></li>
</ul></li>
<li><p>Juegos:</p>

<ul>
<li><a href="http://try.github.io/">tryGit</a></li>
<li><a href="https://github.com/Gazler/githug">GitHug</a></li>
<li><a href="http://pcottle.github.io/learnGitBranching">Learn git branching</a></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/01_historia/1">
<p><img src="./file/03-presentacion-ruby/01-dosis-ruby.png" alt="dosis"/>

<h1>Una dosis r&#xE1;pida de ruby</h1>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/01_historia/2">
<h1>Historia</h1>

<p><img src="./file/03-presentacion-ruby/02-yukihiro-matsumoto.jpg" alt="Yukihiro Matsumoto"/>

<h2>MATZ</h2>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/01_historia/3">
<h1>MATZ</h1>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Yukihiro_Matsumoto">Yukihiro Matsumoto</a>

<ul>
<li>En japon&#xE9;s: &#x677E;&#x672C;&#x884C;&#x5F18; (&#x307E;&#x3064;&#x3082;&#x3068;&#x3086;&#x304D;&#x3072;&#x308D;)</li>
<li>Matz m&#xE1;s simple</li>
<li>Empez&#xF3; el desarrollo de Ruby en 1993</li>
<li>En 1995 lanz&#xF3; la primera versi&#xF3;n</li>
<li>A&#xFA;n lidera el desarrollo de Ruby</li>
</ul></li>
<li>Su c&#xE9;lebre frase:</li>
</ul>

<p>Ruby is designed to make programmers <strong>HAPPY</strong></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/01_historia/4">
<h1>&#xBF;C&#xF3;mo surge Ruby?</h1>

<ul>
<li>Fusi&#xF3;n de lenguajes

<ul>
<li>Smalltalk</li>
<li>Perl</li>
<li>LISP</li>
</ul></li>
<li>Hasta el 2001 conocido s&#xF3;lo en Jap&#xF3;n

<ul>
<li>El libro <a href="http://pragprog.com/book/ruby/programming-ruby">Programming Ruby</a> fue el 
impulsor del lenguaje fuera de Jap&#xF3;n</li>
<li>Tambi&#xE9;n conocido como PickAxe</li>
<li>La primera versi&#xF3;n puede <a href="http://ruby-doc.org/docs/ProgrammingRuby/">leerse en l&#xED;nea</a></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/01_historia/5">
<p><img src="./file/03-presentacion-ruby/03-pickaxe.jpg" alt="pickaxe"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/01_historia/6">
<h1>En el 2005, Dinamarca</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/01_historia/7">
<h1>Aparece...</h1>

<p><img src="./file/03-presentacion-ruby/04-dhh.jpg" alt="DHH"/>

<h2>DHH</h2>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="03-presentacion-ruby/01_historia/8">
<h1>DHH</h1>

<ul>
<li><a href="http://en.wikipedia.org/wiki/David_Heinemeier_Hansson">David Heinemeier Hansson</a>

<ul>
<li>DHH m&#xE1;s simple</li>
<li>Creador de Rails</li>
</ul></li>
<li><a href="http://rubyonrails.org/">Rails</a>

<ul>
<li>Framework open source para desarrollo de aplicaciones web</li>
<li>Creado en 2004</li>
<li>Su primer versi&#xF3;n liberada (1.0) fue en 2005</li>
<li>Actualmente en la versi&#xF3;n 4.0</li>
</ul></li>
</ul>

<p><img src="./file/03-presentacion-ruby/05-rails.png" alt="Rails"/>
</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/02_el-lenguaje/1">
<h1>El lenguaje</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets incremental" ref="03-presentacion-ruby/02_el-lenguaje/2">
<h1>Caracter&#xED;sticas</h1>

<ul>
<li>Din&#xE1;mico</li>
<li>Sintaxis concisa y expresiva </li>
<li>Orientado a objetos</li>
<li>Capacidades de metaprogramaci&#xF3;n</li>
<li>Caracter&#xED;sticas funcionales</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/02_el-lenguaje/3">
<h1>Entendiendo Ruby</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="03-presentacion-ruby/02_el-lenguaje/4">
<h1>Sintaxis y convenciones</h1>

<pre class="sh_ruby"><code>
    NombreDeClaseOModulo

    CONSTANTE

    @nombre_de_atributo

    @@atributo_de_clase

    $variable_global

    nombre_de_metodo

    metodo_peligroso!

    metodo_que_pregunta?</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets execute" ref="03-presentacion-ruby/02_el-lenguaje/5">
<h1>Objetos</h1>

<h2>Todos los valores son <strong>objetos</strong></h2>

<pre class="sh_ruby"><code>"Aprendiendo ruby".length</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets execute" ref="03-presentacion-ruby/02_el-lenguaje/6">
<h1>Algunos ejemplos m&#xE1;s</h1>

<h2>Arreglos</h2>

<pre class="sh_ruby"><code>["Mateo", "Lola", "Lihue", "Clio"].sort</code></pre>

<h2>N&#xFA;meros</h2>

<pre class="sh_ruby"><code>-100.abs</code></pre>

<h2>nil</h2>

<pre class="sh_ruby"><code>nil.nil?</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets execute" ref="03-presentacion-ruby/02_el-lenguaje/7">
<h1>M&#xE1;s ejemplos</h1>

<h2>Todo es un objeto: parte 2</h2>

<pre class="sh_ruby"><code>1.object_id</code></pre>

<h2>Todo es un objeto: parte 3</h2>

<pre class="sh_ruby"><code>nil.object_id</code></pre>

<h2>Es simple y conciso</h2>

<pre class="sh_ruby"><code>([1,2,3] + [4,5,6]).last</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/03_literales/1">
<h1>Hay muchos literales</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/03_literales/2">
<h1>N&#xFA;meros literales</h1>

<pre class="sh_ruby"><code>3
3.14
1_999_235_243_888 == 1999235243888</code></pre>

<h2>Podemos usar binario, octal o hexadecimal</h2>

<pre class="sh_ruby"><code>0b1000_1000     #Binario =&gt; 132
010                 # Octal =&gt; 8
0x10                # Hexadecimal =&gt; 16</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets execute" ref="03-presentacion-ruby/03_literales/3">
<h1>Strings literales</h1>

<pre class="sh_ruby"><code>'sin interpolar'
"Interpolando: #{'Ja'*3}!"</code></pre>

<h2>Podemos usar otras formas</h2>

<pre class="sh_ruby"><code>%q/Hola/
%q!Chau!
%Q{Interpolando: #{3+3}}</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets execute" ref="03-presentacion-ruby/03_literales/4">
<h1>Strings como here document</h1>

<pre class="sh_ruby"><code>
un_string = &lt;&lt;EOS
    Este es un texto
    de mas de una linea
    que termina aqui
EOS

un_string.upcase</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="03-presentacion-ruby/03_literales/5">
<h1>S&#xED;mbolos</h1>

<ul>
<li>Son como variables prefijados con <strong>:</strong> (dos puntos)

<ul>
<li>Ejemplos: <code>:action</code>, <code>:line_items</code>, <code>:+</code></li>
</ul></li>
<li>No es necesario declararlos </li>
<li>Se garantiza que son &#xFA;nicos

<ul>
<li>No es necesario asignarles ning&#xFA;n valor</li>
</ul></li>
</ul>

<h2>Veamos un ejemplo</h2>

<pre class="sh_ruby"><code>:uno.object_id  # siempre devolver&#xE1; lo mismo
"uno".object_id # siempre devolver&#xE1; diferente</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/03_literales/6">
<h1>Arreglos</h1>

<pre class="sh_ruby"><code>
['Hola', 'Chau]

%w(Hola Chau #{2+2})    # sin interpolar

%W(Hola Chau #{2+2})    # interpolando

[1,2,3,4]</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/03_literales/7">
<h1>Hashes</h1>

<pre class="sh_ruby"><code># Versi&#xF3;n 1.8
{
    :nombre     =&gt; 'Christian',
    :apellido   =&gt; 'Rodriguez'
}
# Versi&#xF3;n &gt; 1.8
{
    nombre:     'Christian',
    apellido:   'Rodriguez'
}</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/03_literales/8">
<h1>Expresiones regulares</h1>

<pre class="sh_ruby"><code>/^[a-zA-Z]+$/</code></pre>

<p><em>Explicaci&#xF3;n detallada en
<a href="http://www.ruby-doc.org/docs/ProgrammingRuby/html/language.html#UJ">Pickaxe</a></em></p>

<p><em>Para probar expresiones regulares puede usar <a href="http://rubular.com/">Rubular</a></em></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/03_literales/9">
<h1>Rangos</h1>

<pre class="sh_ruby"><code>0..1
0..10
"a".."z"
"a"..."z"</code></pre>

<h2>Pueden convertirse en arreglos</h2>

<pre class="sh_ruby"><code>("a"..."z").to_a</code></pre>

<h2>Rangos como intervalos</h2>

<pre class="sh_ruby"><code>(1..10) === 5   # =&gt; true
(1..10) === 15   # =&gt; false
(1..10) === 3.1  # =&gt; true</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/03_literales/10">
<h1>Lambdas</h1>

<pre class="sh_ruby"><code>uno = lambda { |n| n * 2 }

dos = -&gt;(n, m){ n * 2 + m }

tres    = -&gt;(n, m=0){ n * 2 + m}

# Entonces
uno.call 2          # =&gt; 4

dos.call 2,3        # =&gt; 7

tres.call 2         # =&gt; 4</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/04_metodos/1">
<h1>M&#xE9;todos como operadores</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content execute" ref="03-presentacion-ruby/04_metodos/2">
<h1>&#xBF;C&#xF3;mo?</h1>

<pre class="sh_ruby"><code>10 - 2</code></pre>

<h2>Es equivalente a:</h2>

<pre class="sh_ruby"><code>10.send :-, 2</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content execute" ref="03-presentacion-ruby/04_metodos/3">
<h1>Otros m&#xE9;todos como operadores</h1>

<pre class="sh_ruby"><code>[1,2,3] - [1]</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/05_expresiones/1">
<h1>Expresiones</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/05_expresiones/2">
<h2>En Ruby toda expresi&#xF3;n retorna un valor</h2>
</div>
</div><div class="slide" data-transition="uncover"><div class="content execute" ref="03-presentacion-ruby/05_expresiones/3">
<h1>En estos casos retorna el valor esperado</h1>

<pre class="sh_ruby"><code>a = 3.14</code></pre>

<h2>Veamos como es el case</h2>

<pre class="sh_ruby"><code>estado = nil
#...
face =  case estado
                when "Feliz"  then ":)"
                when "Triste" then ":("
                else               ":|"
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content execute incremental" ref="03-presentacion-ruby/05_expresiones/4">
<h1>Y en este caso, &#xBF;qu&#xE9; retorna?</h1>

<pre class="sh_ruby"><code>def foo
    "bar"
end
# =&gt; nil</code></pre>

<p>Notar que la definici&#xF3;n de un m&#xE9;todo retorna nil</p>

<p><strong>Su ejecuci&#xF3;n retorna <code>"bar"</code></strong></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/06_bloques/1">
<h1>Bloques</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/06_bloques/2">
<h1>Rara vez usaremos un for / while</h1>

<pre class="sh_ruby"><code>3.times do |i|
    puts i
end
# 0
# 1
# 2
# =&gt; 3 (retorna el 3 que recibe .times)

3.times { |x| puts x }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/07_declarativo/1">
<h1>Programando declarativamente</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content execute" ref="03-presentacion-ruby/07_declarativo/2">
<h1>Ejemplos</h1>

<h2>Los pares</h2>

<pre class="sh_ruby"><code>(1..10).select { |n| n.even? }

# o lo que es igual:

(1..10).select(&amp; :even?)</code></pre>

<h2>Procesando cada elemento</h2>

<pre class="sh_ruby"><code>(1..10).map { |n| n*2 }

# o lo que es igual:

(1..10).collect { |n| n*2 }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content execute" ref="03-presentacion-ruby/07_declarativo/3">
<h1>M&#xE1;s ejemplos</h1>

<h2>Sumatoria</h2>

<pre class="sh_ruby"><code>(1..100).reduce { |sum,n| sum + n }

# o lo que es igual:

(1..100).reduce(:+)</code></pre>

<h2>Lo verificamos:</h2>

<pre class="sh_ruby"><code># La formula de verificacion es: n*(n-1)/2

100*101/2</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="03-presentacion-ruby/07_declarativo/4">
<h1>Aumentando la fluidez</h1>

<pre class="sh_ruby"><code>File.open('my.txt').each do |line|

    puts line if line =~ /ruby/

end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/08_duck_typing/1">
<h1>Duck typing</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="03-presentacion-ruby/08_duck_typing/2">
<h1>&#xBF;Qu&#xE9; es duck typing?</h1>

<ul>
<li>Es un t&#xE9;rmino empleado en <strong>OO</strong></li>
<li>Estilo de tipeo din&#xE1;mico donde:

<ul>
<li>Los m&#xE9;todos y propiedades determinan la sem&#xE1;ntica v&#xE1;lida</li>
<li>En vez de utilizar herencia o interfaces para indicar la propiedad: <strong>es un
..</strong></li>
</ul></li>
<li>El nombre del concepto se refiere al <em>duck test</em>, atribu&#xED;do a James Whitcomb
Riley que podr&#xED;a resumirse en:</li>
</ul>

<p><em>Si veo un p&#xE1;jaro que camina como pato, nada como pato y hace "cuack" como pato,
entonces llamar&#xE9; a ese p&#xE1;jaro un pato</em></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="03-presentacion-ruby/08_duck_typing/3">
<h1>En Java: versi&#xF3;n simple</h1>

<pre class="sh_java"><code>public interface DuckLike {
    Cuack cuack();
}
//...
public void doSomething(DuckLike d) {
    d.cuack();
//  ...
}</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smaller" ref="03-presentacion-ruby/08_duck_typing/4">
<h1>En Java: usando reflexi&#xF3;n</h1>

<pre class="sh_java"><code>import java.lang.reflect.InvocationHandler;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;

public class DuckTyping {

    interface Walkable  { void walk(); }
    interface Swimmable { void swim(); }
    interface Quackable { void quack(); }

    public static void main(String[] args) {
        Duck d = new Duck();
        Person p = new Person();

        as(Walkable.class, d).walk();   //duck can walk()
        as(Swimmable.class, d).swim();  //duck can swim() 
        as(Quackable.class, d).quack(); //duck can quack()

        as(Walkable.class, p).walk();   //person can walk()
        as(Swimmable.class, p).swim();  //person can swim() 
        // Gives Runtime Error
        as(Quackable.class, p).quack(); //person can't quack()
    }
//...</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smaller" ref="03-presentacion-ruby/08_duck_typing/5">
<h1>En Java: usando reflexi&#xF3;n (cont)</h1>

<pre class="sh_java"><code>    @SuppressWarnings("unchecked")
    static &lt;T&gt; T as(Class&lt;T&gt; t, final Object obj) {
        return (T) Proxy.newProxyInstance(t.getClassLoader(), 
            new Class[] {t},
            new InvocationHandler() {
                public Object invoke(Object proxy, 
                            Method method, 
                            Object[] args) throws Throwable {
                    try {
                        return obj.getClass()
                          .getMethod(method.getName(), 
                             method.getParameterTypes())
                          .invoke(obj, args);
                    } catch (NoSuchMethodException nsme) {
                        throw new NoSuchMethodError(
                          nsme.getMessage());
                    } catch (InvocationTargetException ite) {
                        throw ite.getTargetException();
                    }
                }
            });
    }
}
//....</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smaller" ref="03-presentacion-ruby/08_duck_typing/6">
<h1>En Java: usando reflexi&#xF3;n (cont)</h1>

<pre class="sh_java"><code>class Duck {
    public void walk()  {
        System.out.println("I'm Duck, I can walk...");
    }
    public void swim()  {
        System.out.println("I'm Duck, I can swim...");
    }
    public void quack() {
        System.out.println("I'm Duck, I can quack...");
    }
}

class Person {
    public void walk()  {
        System.out.println("I'm Person, I can walk...");
    }
    public void swim()  {
        System.out.println("I'm Person, I can swim...");
    }
    public void talk()  {
        System.out.println("I'm Person, I can talk...");
    }
}</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smaller" ref="03-presentacion-ruby/08_duck_typing/7">
<h1>En Ruby</h1>

<pre class="sh_ruby"><code>class Duck
    def quack
        puts "Quaaaaaack!"
    end
    def feathers
        puts "The duck has white and gray feathers."
    end
end
class Person
    def quack
        puts "The person imitates a duck."
    end
    def feathers
        puts "The person takes a feather from the ground"
    end
end
def in_the_forest duck
    duck.quack
    duck.feathers
end

donald = Duck.new
john = Person.new
in_the_forest donald
in_the_forest john</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/09_mokey_patching/1">
<h1>Monkey patching</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/09_mokey_patching/2">
<h1>&#xBF;Qu&#xE9; es monkey patching?</h1>

<ul>
<li>Modificar una clase din&#xE1;micamente</li>
<li>En tiempo de ejecuci&#xF3;n, agregar nuevos m&#xE9;todos a una clase o cambiar su
comportamiento</li>
<li>El t&#xE9;rmino surge de <strong>Gorilla Patch</strong> 

<ul>
<li><em>Monkey patch es menos intimidante</em></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="03-presentacion-ruby/09_mokey_patching/3">
<h1>Un ejemplo</h1>

<pre class="sh_ruby"><code>(1..10).even # da error: even no existe

class Range
    # Agregamos even a Range
    def even
      self.select(&amp; :even?)  
    end
end

(1..10).even # ahora no da error
# =&gt; [2,4,6,8,10]</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/10_modulos/1">
<h1>M&#xF3;dulos</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="03-presentacion-ruby/10_modulos/2">
<h1>Como Namespace</h1>

<pre class="sh_ruby"><code>module MyAPI
    class User
    ...
    end

    def self.configuration
    ...
    end
end

user = MyAPI::User.new

puts MyAPI::configuration</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="03-presentacion-ruby/10_modulos/3">
<h1>Como Mixins</h1>

<p><em>Como las interfaces, pero con comportamiento</em></p>

<pre class="sh_ruby"><code>module MyLog
    def log(msg)
        puts "Log: #{msg}"
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="03-presentacion-ruby/10_modulos/4">
<h1>Como usar un mixin</h1>

<pre class="sh_ruby"><code>class String; include MyLog; end

"hola".log("pepe")
#Log: pepe
# =&gt; nil </code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="03-presentacion-ruby/99_referencias/1">
<h1>Referencias</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="03-presentacion-ruby/99_referencias/2">
<h1>Referencias</h1>

<ul>
<li><a href="http://www.ruby-doc.org/docs/ProgrammingRuby/">PickAxe</a></li>
<li><a href="http://www.rubyinside.com/media/poignant-guide.pdf">why's (poignant) Guide to Ruby</a></li>
<li>Muy inspirado en la gran presentaci&#xF3;n de Jano Gonz&#xE1;lez presentada en la
RubyConf 2012 Argentina

<ul>
<li><a href="https://speakerdeck.com/janogonzalez/donde-estan-mis-interfaces">&#xBF;Donde est&#xE1;n mis interfaces?</a></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="04-VMs/01_vms/1">
<h1>Ruby VMs</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/2">
<h1>MRI</h1>

<ul>
<li>Matz' Ruby Implementation</li>
<li>Tambi&#xE9;n llamada CRuby</li>
<li>Es la implementaci&#xF3;n de referencia del lenguaje</li>
<li>&#xDA;ltimas versiones

<ul>
<li>1.8.7-p374 (No usar!)</li>
<li>1.9.3-p448</li>
<li>2.0.0-p247 (Usar!)</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/3">
<h1>JRuby</h1>

<ul>
<li>Ruby en la JVM</li>
<li>Es la alternativa m&#xE1;s madura a MRI en t&#xE9;rminos de compatibilidad con MRI</li>
<li>Combina lo mejor de la plataforma de la JVM con Ruby:

<ul>
<li>Concurrencia real</li>
<li>Interoperabilidad con librer&#xED;as Java</li>
</ul></li>
<li>&#xDA;ltimas versiones

<ul>
<li>jruby-1.7.4</li>
</ul></li>
<li>Modos

<ul>
<li>1.8.7</li>
<li>1.9.3 (default)</li>
<li>2.0.0 (experimental)</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/4">
<h1>Rubinius</h1>

<ul>
<li>Ruby escrito en (mayoritariamente) Ruby</li>
<li>La VM fue escrita en C++</li>
<li>El bytecode compiler y una gran parte de las clases Core de Ruby fueron escritas en Ruby</li>
<li>&#xDA;ltimas versiones

<ul>
<li>rbx-1.2.4: modos 1.8.7 y 1.9.3</li>
<li>rbx-2.0.0 (no lanzado): modos 1.8.7, 1.9.3 y 2.0.0</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/5">
<h1>Otras implementaciones</h1>

<ul>
<li>IronRuby

<ul>
<li>Ruby en .NET</li>
<li>El proyecto est&#xE1; inactivo</li>
</ul></li>
<li>MacRuby

<ul>
<li>Ruby (1.9.3) implementado sobre las tecnolog&#xED;as de Mac OS X (Objective-C)</li>
<li>El proyecto no est&#xE1; tan activo</li>
</ul></li>
<li>MagLev: 

<ul>
<li>Ruby en la VM GemStone/S 3.1 de VMware (Smalltalk!)</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/6">
<h1>MRI: Referencias</h1>

<ul>
<li><a href="http://ruby-lang.org">http://ruby-lang.org</a></li>
<li><a href="https://github.com/ruby/ruby">https://github.com/ruby/ruby</a></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/7">
<h1>JRuby: Referencias</h1>

<ul>
<li><a href="http://jruby.org/">http://jruby.org/</a></li>
<li><a href="https://github.com/jruby/jruby">https://github.com/jruby/jruby</a></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/8">
<h1>Rubinius: Referencias</h1>

<ul>
<li><a href="http://rubini.us/">http://rubini.us/</a></li>
<li><a href="https://github.com/rubinius/rubinius">https://github.com/rubinius/rubinius</a></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/01_vms/9">
<h1>Otras implementaciones: referencias</h1>

<ul>
<li><a href="http://ironruby.codeplex.com/">http://ironruby.codeplex.com/</a></li>
<li><a href="https://github.com/ironlanguages/main">https://github.com/ironlanguages/main</a></li>
<li><a href="http://macruby.org/">http://macruby.org/</a></li>
<li><a href="https://github.com/MacRuby/MacRuby">https://github.com/MacRuby/MacRuby</a></li>
<li><a href="http://maglev.github.io/">http://maglev.github.io/</a></li>
<li><a href="https://github.com/MagLev/maglev">https://github.com/MagLev/maglev</a></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="04-VMs/02_rbenv/1">
<h1>Historia</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/2">
<h1>Muchas implementaciones</h1>

<h2>&#xBF;Cual usar?</h2>

<h2>&#xBF;Y si necesito o quiero usar m&#xE1;s de 1?</h2>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/3">
<h1>Un peque&#xF1;o par&#xE9;ntesis</h1>

<h2>Gemas</h2>

<h2>Bundler</h2>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/4">
<h1>RVM</h1>

<ul>
<li>Ruby Version Manager</li>
<li>Fue la primera herramienta para instalar, administrar y trabajar con m&#xFA;ltiples entornos de Ruby</li>
<li>Introduce el concepto de gemset</li>
<li>Modifica el comando <code>cd</code> para cambiar de versi&#xF3;n de ruby</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/5">
<h1>rbenv</h1>

<ul>
<li>Ruby environment</li>
<li>Fue la primera alternativa a RVM y r&#xE1;pidamente se hizo muy popular</li>
<li>Es m&#xE1;s simple que RVM y ya no instala rubies ni usa gemsets</li>
<li>Se puede agregar funcionalidad con plugins</li>
<li>Utiliza shims para cambiar de versi&#xF3;n de ruby</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/6">
<h1>chruby</h1>

<ul>
<li>Es el 3ro en discordia</li>
<li>Es muy minimalista (90 LOC!)</li>
<li>S&#xF3;lo cambia $PATH para cambiar de ruby</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/7">
<h1>Instalando rbenv</h1>

<ul>
<li>Vamos a instalar rbenv con git</li>
<li>Vamos a instalar los siguientes plugins

<ul>
<li>ruby-build</li>
<li>rbenv-gem-rehash</li>
<li>rbenv-update</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/8">
<h1>Instalando rbenv</h1>

<ul>
<li>Instalamos rbenv en <code>~/.rbenv</code></li>
</ul>

<p><code>
$ git clone https://github.com/sstephenson/rbenv.git ~/.rbenv
</code></p>

<ul>
<li>Agregamos <code>~/.rbenv/bin</code> a <code>$PATH</code></li>
</ul>

<p><code>
$ echo 'export PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.bash_profile
</code></p>

<p>En ubuntu, hacer el <code>echo</code> en <code>.profile</code> en vez de <code>.bash_profile</code></p>

<ul>
<li>Agregamos <code>rbenv init</code> al shell para habilitar los shims y el autocompletado</li>
</ul>

<p><code>
$ echo 'eval "$(rbenv init -)"' &gt;&gt; ~/.bash_profile
</code></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/9">
<h1>Instalando rbenv</h1>

<ul>
<li>Reiniciamos el shell</li>
</ul>

<p><code>
$ exec $SHELL -l
</code></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/10">
<h1>Instalando ruby-build</h1>

<ul>
<li>Clonamos el plugin en el directorio <code>~/.rbenv/plugins</code></li>
</ul>

<p><code>
$ git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
</code></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/11">
<h1>Instalando rbenv-gem-rehash</h1>

<ul>
<li>Clonamos el plugin en el directorio <code>~/.rbenv/plugins</code></li>
</ul>

<p><code>
$ git clone https://github.com/sstephenson/rbenv-gem-rehash.git ~/.rbenv/plugins/rbenv-gem-rehash
</code></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/12">
<h1>Instalando rbenv-update</h1>

<ul>
<li>Clonamos el plugin en el directorio <code>~/.rbenv/plugins</code></li>
</ul>

<p><code>
$ git clone https://github.com/rkh/rbenv-update.git ~/.rbenv/plugins/rbenv-update
</code></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/13">
<h1>rbenv: Comandos</h1>

<ul>
<li><code>rbenv versions</code> muestra las versiones instaladas de ruby (con un * la versi&#xF3;n actual)</li>
<li><code>rbenv global</code> muestra o setea la versi&#xF3;n global de ruby</li>
</ul>

<p><code>
$ rbenv global # muestra la versi&#xF3;n global
</code></p>

<p><code>
$ rbenv global 2.0.0-p247 # setea la versi&#xF3;n 2.0.0-p247 como global
</code></p>

<ul>
<li><p><code>rbenv local</code> identico al comando anterior, pero para el directorio actual</p></li>
<li><p><code>rbenv install</code> instala rubies! (con <code>-l</code> listamos todas las versiones disponibles)</p></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="04-VMs/02_rbenv/14">
<h1>Referencias</h1>

<ul>
<li><a href="https://rvm.io/">https://rvm.io/</a></li>
<li><a href="https://github.com/sstephenson/rbenv">https://github.com/sstephenson/rbenv</a></li>
<li><a href="https://github.com/sstephenson/ruby-build">https://github.com/sstephenson/ruby-build</a></li>
<li><a href="https://github.com/sstephenson/rbenv-gem-rehash">https://github.com/sstephenson/rbenv-gem-rehash</a></li>
<li><a href="https://github.com/rkh/rbenv-update">https://github.com/rkh/rbenv-update</a></li>
<li><a href="https://github.com/postmodern/chruby">https://github.com/postmodern/chruby</a></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/01_objetos-y-atributos/1">
<h1>Clases, objetos y variables</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/01_objetos-y-atributos/2">
<h1>Empezamos por los objetos y sus atributos</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/3">
<h1>Introducci&#xF3;n</h1>

<ul>
<li><p>Luego de haber recibido una <em>dosis de Ruby</em> ya conocemos un poco sobre la
sint&#xE1;xis de este lenguaje</p></li>
<li><p>Para entender mejor los objetos, vamos a hacerlo mediante un ejemplo
<em>-tomado del libro Programming Ruby (Pick Axe)</em>:</p></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="05-clases-objetos-variables/01_objetos-y-atributos/4">
<h1>El problema...</h1>

<h2>Librer&#xED;a de reventa de libros</h2>

<p>Reventa de libros usuados que realiza control de stock semanalmente</p>

<p>Mediante lectores de c&#xF3;digos de barra se registra cada libro en las 
bibliotecas. Cada lector, genera un archivo separado por comas (CSV) que contiene 
una fila para cada libro registrado.</p>

<p>Cada fila contiene entre otros datos: ISBN del libro y precio. Un extracto del
archivo ser&#xED;a:</p>

<pre><code>"Date","ISBN","Amount"
"2008-04-12","978-1-9343561-0-4",39.45
"2008-04-13","978-1-9343561-6-6",45.67
"2008-04-14","978-1-9343560-7-4",36.95</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/5">
<h1>&#xBF;Qu&#xE9; tenemos que hacer?</h1>

<ul>
<li>Tomar todos los CSV de cada lectora y determinar cu&#xE1;ntos ejemplares de cada
t&#xED;tulo disponemos</li>
<li>Determinar adem&#xE1;s el monto total en libros que tenemos</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="05-clases-objetos-variables/01_objetos-y-atributos/6">
<h1>Creamos la clase <code>BookInStock</code></h1>

<p><em>Recordamos que los nombres de las clases deben comenzar con may&#xFA;sculas, los
m&#xE9;todos con min&#xFA;scula</em></p>

<pre class="sh_ruby"><code>class BookInStock
end</code></pre>

<p>Lo probamos:</p>

<pre class="sh_ruby"><code>a_book = BookInStock.new
another_book = BookInStock.new</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/7">
<h1>Pero...</h1>

<ul>
<li><p>En el ejemplo anterior: </p>

<ul>
<li>Se crean dos objetos  diferentes de la clase <code>BookInStock</code>. </li>
<li>Podr&#xED;amos decir en esta primer instancia que son el mimo libro, o iguales porque nada los
distingue...</li>
</ul></li>
<li><p>Lo solucionamos obligando que la inicializaci&#xF3;n indique aquellos datos que distinga al
libro</p></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/01_objetos-y-atributos/8">
<h1>La nueva implementaci&#xF3;n</h1>

<pre class="sh_ruby"><code>class BookInStock
    def initialize(isbn, price)
        @isbn = isbn
        @price = Float(price)
    end
end</code></pre>

<ul>
<li>El m&#xE9;todo <code>initialize</code> es especiale en Ruby </li>
<li>Cuando se invoca el m&#xE9;todo <code>new</code>, Ruby aloca memoria para alojar un objeto no
inicializado y luego invoca al m&#xE9;todo <code>initialize</code> <strong>pas&#xE1;ndole cada par&#xE1;metro
que fue enviado a <code>new</code></strong></li>
<li>Entonces <code>initialize</code> nos permite configurar el estado inicial de nuestros objetos</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/01_objetos-y-atributos/9">
<h1>Continuamos analizando <code>initialize</code></h1>

<ul>
<li>Vemos que se utilizan variables de instancia: 

<ul>
<li>Comienzan con <strong>@</strong></li>
<li>Esto permite que los valores recibidos como par&#xE1;metros no se pierdan luego
de ejecutar <code>initialize</code></li>
<li>Por ello almacenamos estos valores en variables de instancia</li>
</ul></li>
<li>Podr&#xED;amos pensar que <code>@isbn</code> e <code>isbn</code> est&#xE1;n relacionadas, pero:

<ul>
<li>No hay relaci&#xF3;n alguna m&#xE1;s que coinciden en el nombre</li>
<li>Pero ambas son variables diferentes, una con un nombre que comienza con
<strong>@</strong> y otra <strong>no</strong></li>
</ul></li>
<li>Notamos adem&#xE1;s que se realiza una peque&#xF1;a validaci&#xF3;n

<ul>
<li>El m&#xE9;todo
<a href="http://www.ruby-doc.org/core-2.0.0/Kernel.html#method-i-Float"><code>Float</code></a>
toma un argumento y lo convierte a <code>float</code>, terminando el programa si falla
la conversi&#xF3;n</li>
</ul></li>
</ul>

<p><em>Analizar c&#xF3;mo es que <code>Float</code> es un m&#xE9;todo</em></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/10">
<h1>Usamos los nuevos objetos</h1>

<pre class="sh_ruby"><code>b1 = BookInStock.new("isbn1", 3)
p b1
b2 = BookInStock.new("isbn2", 3.14)
p b2
b3 = BookInStock.new("isbn3", "5.67")
p b3</code></pre>

<ul>
<li>Usamos el m&#xE9;todo <code>p</code> porque imprime el estado interno de los objetos. </li>
<li><code>puts</code> por defecto imprime <code>#&lt;nombre_de_clase:id_objeto_en_hex&gt;</code>

<ul>
<li><code>to_s</code>, que es enviado a cualquier objeto que necesita convertirse a <code>string</code> </li>
</ul></li>
</ul>

<h2>Agregamos <code>to_s</code></h2>

<pre class="sh_ruby"><code>class BookInStock
    def to_s
        "ISBN: #{@isbn}, price: #{@price}"
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/11">
<h1>Objetos y sus atributos</h1>

<ul>
<li>Un objeto como el mostrado anteriormente no permite que nadie acceda a sus
variables</li>
<li>Si bien es algo positivo encapsular, si no permitimos acceder a los datos que
mantienen el estado del objeto, el mismo se vuelve in&#xFA;til.</li>
<li>A las <em>ventanas</em> de acceso a los objetos las denominaremos <strong>atributos</strong></li>
<li>Modificaremos nuestra clase de <code>BookInStock</code> con el fin de agregar atributos
para <code>isbn</code> y <code>price</code> as&#xED; podemos contabilizarlos</li>
</ul>

<h2>Deifinici&#xF3;n de los atributos:</h2>

<pre class="sh_ruby"><code>class BookInStock
    def isbn
        @isbn 
    end

    def price
        @price
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/12">
<h1>Acceso a los atributos</h1>

<ul>
<li>A los atributos anteriores se los denomina <code>accesor</code> porque mapean
directamente con las variables de instancia</li>
<li>Como escribir accesors es algo com&#xFA;n, Ruby provee un shortcut: <code>attr_reader</code></li>
</ul>

<h2>Usando <code>attr_reader</code></h2>

<pre class="sh_ruby"><code>class BookInStock
    attr_reader :isbn, :price

    def initialize(isbn, price)
        @isbn = isbn
        @price = Float(price)
    end
    # ..
end</code></pre>

<ul>
<li>Notar que se utilizan <strong>s&#xED;mbolos para los nombres de los m&#xE9;todos</strong></li>
<li>Suele confundirse con determinadas funciones presentes en otros lenguajes que
<code>attr_reader</code> define variables de instancia, y <strong>no lo hace</strong>

<ul>
<li>S&#xF3;lo los m&#xE9;todos de acceso como los que definimos inicialmente</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/01_objetos-y-atributos/13">
<h1>Atributos de escritura</h1>

<ul>
<li>No s&#xF3;lo leemos atributos: a veces necesitamos modificar un valor</li>
<li>Ruby permite modificar atributos definiendo un m&#xE9;todo terminado con <strong>el signo
igual</strong>:</li>
</ul>

<h2>Agregamos <code>price=</code></h2>

<pre class="sh_ruby"><code>class BookInStock
    attr_reader :isbn, :price

    def initialize(isbn, price)
        @isbn = isbn
        @price = Float(price)
    end

    def price=(new_price)
        @price = new_price
    end
    # ...
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/14">
<h1>Atributos de escritura</h1>

<pre class="sh_ruby"><code>book = BookInStock.new("isbn1", 33.80)
puts "ISBN = #{book.isbn}"
puts "Price = #{book.price}"
book.price = book.price * 0.75 # discount price
puts "New price = #{book.price}"</code></pre>

<ul>
<li>Al igual que con <code>attr_reader</code> ruby provee un shortcut para accessors de
s&#xF3;lo escritura: <code>attr_writer</code> (raramente usado)</li>
<li>Es m&#xE1;s com&#xFA;n utilizar <code>attr_accessor</code> que provee acceso R/W</li>
</ul>

<h2>La clase definitiva:</h2>

<pre class="sh_ruby"><code>class BookInStock

    attr_reader :isbn
    attr_accessor :price

    def initialize(isbn, price)
        @isbn = isbn
        @price = Float(price)
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/15">
<h1>Atributos virtuales</h1>

<h2>Agregamos el precio en centavos</h2>

<pre class="sh_ruby"><code>class BookInStock
    attr_reader :isbn
    attr_accessor :price

    def initialize(isbn, price)
        @isbn = isbn
        @price = Float(price)
    end

    def price_in_cents
        Integer(price*100 + 0.5)
    end

    def price_in_cents=(cents)
        @price = cents / 100.0
    end
    # ...
end</code></pre>

<ul>
<li>Notamos que no hay correspondencia con variables de instancia como es el caso 
de <code>price</code> e <code>isbn</code></li>
<li>Pero el mapeo es con <code>price</code></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/16">
<h1>El lector de CSV</h1>

<ul>
<li>Repasamos qu&#xE9; debe realizar el programa a desarrollar:

<ul>
<li>Leer varios archivos CSV</li>
<li>Totalizar ejemplares iguales</li>
<li>Totalizar el precio de los libros en stock</li>
</ul></li>
</ul>

<h2>El esqueleto de <code>CsvReader</code></h2>

<pre class="sh_ruby"><code>class CsvReader
    def initialize
        # ...
    end

    def read_in_csv_data(csv_file_name)
    # ...
    end

    def total_value_in_stock
    # ...
    end

    def number_of_each_isbn
    # ...
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/01_objetos-y-atributos/17">
<h1>&#xBF;C&#xF3;mo usr&#xED;amos CsvReader?</h1>

<pre class="sh_ruby"><code>reader = CsvReader.new
reader.read_in_csv_data("file1.csv")
reader.read_in_csv_data("file2.csv")
:               :               :
puts "Total value in stock = \
    #{reader.total_value_in_stock}"</code></pre>

<ul>
<li>Notamos que <code>CsvReader</code> debe ir acumulando lo que va leyendo de cada csv</li>
<li>Para ello mantendremos un arreglo de valores como variable de instancia</li>
<li>Para leer un CSV, Ruby provee de una simple librer&#xED;a que simplificar&#xE1; el
trabajo</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/18">
<h1>Comportamiento de CsvReader</h1>

<pre class="sh_ruby"><code>require 'csv'

class CsvReader

    def initialize
        @books_in_stock = []
    end

    def read_in_csv_data(csv_file_name)
        CSV.foreach(csv_file_name, headers: true) do |row|
            @books_in_stock &lt;&lt; 
                BookInStock.new(row["ISBN"], row["Amount"])
        end
    end
end</code></pre>

<ul>
<li>En <code>read_in_csv_data</code> la primer l&#xED;nea indica la apertura del archivo
<code>csv_file_name</code> y el par&#xE1;metro <code>headers: true</code> indica a la librer&#xED;a que la
primer l&#xED;nea del archivo son los encabezados de cada columna o campo</li>
<li>La librer&#xED;a pasar&#xE1; entonces cada fila le&#xED;da al bloque mostrado. Notar que el
acceso a cada campo se corresponde con los <strong>nombres de las columnas</strong></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/19">
<h1>Calculando el precio total</h1>

<pre class="sh_ruby"><code>class CsvReader

    # Luego veremos como usar inject...
    def total_value_in_stock
        sum = 0.0
        @books_in_stock.each do |book| 
            sum += book.price
        end
        sum
    end

end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/20">
<h1>Fragmentaci&#xF3;n de un programa</h1>

<ul>
<li>Dividimos el c&#xF3;digo en tres archivos

<ul>
<li><code>book_in_stock.rb</code>: contendr&#xE1; la clase <code>BookInStock</code></li>
<li><code>csv_reader.rb</code>: ser&#xE1; el c&#xF3;digo de <code>CsvReader</code></li>
<li><code>stock_stats.rb</code>: ser&#xE1; el programa principal</li>
</ul></li>
<li>Aparecer&#xE1;n dependencias entre ellos

<ul>
<li>Para cargar dependencias externas se utiliza: <code>require</code> y <code>require_relative</code></li>
</ul></li>
</ul>

<h2>El programa principal <code>stock_stats.rb</code></h2>

<pre class="sh_ruby"><code>require_relative 'csv_reader'

reader = CsvReader.new
ARGV.each do |csv_file_name|
    STDERR.puts "Processing #{csv_file_name}"
    reader.read_in_csv_data(csv_file_name)
end

puts "Total value = #{reader.total_value_in_stock}"</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/01_objetos-y-atributos/21">
<h1>Control de acceso</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/01_objetos-y-atributos/22">
<h1>Control de acceso</h1>

<ul>
<li>Al dise&#xF1;ar la interfaz de una clase es importante definir qu&#xE9; publicaremos al
mundo</li>
<li>Permitir demasiado acceso a nuestras clases, incrementar&#xE1; el riesgo de
<strong>acoplamiento</strong> de la aplicaci&#xF3;n

<ul>
<li>Los usuarios de una clase que se expone demasiado podr&#xED;an confiar en
detalles de implementaci&#xF3;n en vez de su interfaz l&#xF3;gica</li>
</ul></li>
<li>Ruby provee control de acceso a los m&#xE9;todos (que son quienes permitir&#xED;an
alterar el estado de un objeto)</li>
<li>Una regla importante es:

<ul>
<li>Nunca exponer m&#xE9;todos que puedan dejar un objeto en estado inv&#xE1;lido</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/01_objetos-y-atributos/23">
<h1>Niveles de protecci&#xF3;n</h1>

<ul>
<li><strong>P&#xFA;blicos:</strong> los m&#xE9;todos p&#xFA;blicos pueden invocarse por cualquiera (no hay
control de acceso). Los m&#xE9;todos son p&#xFA;blicos por defecto excepto initialize que
siempre es privado.</li>
<li><strong>Protegidos:</strong> pueden invocarse s&#xF3;lo por objetos de la clase que lo define y 
sus subclases. El acceso queda en la familia.</li>
<li><strong>Privados:</strong> estos m&#xE9;todos no pueden ser invocados con un receptor expl&#xED;cito: 
<em>el receptor es siempre el objeto actual, mejor conocido como <code>self</code></em>. Esto
significa que tampoco puede invocar el m&#xE9;todo privado de otra instancia de la
misma clase.</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets smaller" ref="05-clases-objetos-variables/01_objetos-y-atributos/24">
<h1>Aplicando accesos</h1>

<pre class="sh_ruby"><code>class MyClass
    def method  #default is public
    #...
    end

    protected   # subsequent methods will be 'protected'

    def method2
    #...
    end

    private     # subsequent methods will be 'private'

    def method3
    #...
    end

    public      # subsequent methods will be 'public'

    def method4
    #...
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/25">
<h1>Alternativamente</h1>

<pre class="sh_ruby"><code>class MyClass
    def method1
    end

    public :method1, :method4
    protected :method2
    private :method3
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/26">
<h1>Variables</h1>

<ul>
<li>Hemos usado variables en varias oportunidades</li>
<li>Se usan para no perder valores y poder referenciarlos nuevamente</li>
<li>Cada variable es una <strong>referencia</strong> a un objeto</li>
<li>Son lo &#xFA;nico que no son objetos en ruby: </li>
</ul>

<p><em>Is a variable an object?</em> <strong><em>In Ruby, the answer is no.</em></strong> <em>A variable is simply a
reference to an object. Objects float around in a big pool somewhere (the heap, most of the
time) and are pointed to by variables.</em></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/27">
<h1>Variables como alias</h1>

<h2>Analicemos el siguiente ejemplo</h2>

<pre class="sh_ruby"><code>person1 = "Tim"
person2 = person1
person1[0] = 'J'
puts "person1 is #{person1}"
puts "person2 is #{person2}"</code></pre>

<h2>Para evitarlo: <code>dup</code></h2>

<pre class="sh_ruby"><code>person1 = "Tim"
person2 = person1.dup
person1[0] = 'J'
puts "person1 is #{person1}"
puts "person2 is #{person2}"</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/01_objetos-y-atributos/28">
<h1>Freezando un objeto</h1>

<h2>Es posible freezar objetos</h2>

<pre class="sh_ruby"><code>person1 = "Tim"
person2 = person1
person1.freeze
person2[0] = 'J'</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/1">
<h1>Contenedores, bloques e iteradores</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/2">
<h1>Introducci&#xF3;n</h1>

<ul>
<li>Las colecciones representan elementos fundamentales de cualquier programa</li>
<li>Ruby provee dos clases que representan colecciones: 

<ul>
<li><code>array</code></li>
<li><code>hash</code> o  arreglo asociativo</li>
</ul></li>
<li>El correcto uso de estas colecciones es fundamental en la programaci&#xF3;n Ruby</li>
<li>Los bloques, combinados con colecciones se convierten en construcciones muy
poderosas para la iteraci&#xF3;n</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/3">
<h1>Array</h1>

<ul>
<li>La clase <code>Array</code> mantiene una colecci&#xF3;n de referencias a objetos. </li>
<li>Cada referencia a objeto ocupa una posici&#xF3;n en el arreglo, identificada por un
&#xED;ndice entero no negativo</li>
</ul>

<h2>Ejemplos de array</h2>

<pre class="sh_ruby"><code>a = [ 3.14159, "pie", 99 ]
a.class
a.length
a[0]
a[1]
a[2]
a[3]

b = Array.new
b.class
b.length
b[0] = "second"
b[1] = "array"
b</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/4">
<h1>Arrays y <code>[]</code></h1>

<ul>
<li>Los elementos de un arreglo se acceden con el operador <code>[]</code></li>
<li>Pero <code>[]</code> es un m&#xE9;todo (de instancia en la clase <code>Array</code>) y por tanto puede
implementarse por cualquier subclase</li>
<li>El primer &#xED;ndice de un arreglo es el cero</li>
<li>Un arreglo accedido en un &#xED;ndice positivo retorna el objeto referenciado en
esa posici&#xF3;n.

<ul>
<li>Si no hay objeto, retorna <code>nil</code></li>
</ul></li>
<li>Un arreglo accedido en un &#xED;ndice negativo, retorna el objeto contando desde el
final</li>
</ul>

<h2>Indices negativos</h2>

<pre class="sh_ruby"><code>a = [ 1, 7, 9]
a[-1]
a[-2]
a[-99]</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/5">
<h1>Arrays y <code>[]</code></h1>

<h2>Indexando con un par de valores</h2>

<pre class="sh_ruby"><code>a = [ 1, 3, 5, 7, 9 ]
a[1, 3]
a[3, 1]
a[-3, 2]</code></pre>

<p><em>Acceder arrays con dos valores indica <code>[start,count]</code> y retorna siempre un
nuevo <code>array</code></em></p>

<h2>Pueden usarse rangos</h2>

<pre class="sh_ruby"><code>a = [ 1, 3, 5, 7, 9]
a[1..3]
a[1...3]
a[3..3]
a[-3..-1]</code></pre>

<ul>
<li>El rango indica los &#xED;nidces <strong>desde</strong> y <strong>hasta</strong></li>
<li>Usando <code>..</code> se incluye el fin de rango</li>
<li>Usando <code>...</code> se <strong>excluye</strong> el extremo final</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/6">
<h1>Arrays y <code>[]=</code></h1>

<ul>
<li>El m&#xE9;todo <code>[]=</code> permite setear elementos de un array</li>
<li>Si se utiliza con un &#xFA;nico &#xED;ndice, entonces reemplaza su valor por lo que est&#xE9;
a la derecha de la asignaci&#xF3;n

<ul>
<li>Cualquier gap que haya quedado luego de <code>[]=</code> se completa con nil</li>
</ul></li>
</ul>

<h2>Un ejemplo</h2>

<pre class="sh_ruby"><code>a = [ 1, 3, 5, 7, 9 ]
a[1] = 'bat'
a[-3] = 'cat'
a[3] = [ 9, 8 ]
a[6] = 99</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/7">
<h1>Arrays y <code>[]=</code></h1>

<ul>
<li>Si se utiliza con dos valores (inicio, cantidad) o un rango, luego estos
elementos son reemplazados por lo que est&#xE9; a la derecha de la asignaci&#xF3;n

<ul>
<li>Si la cantidad de elementos a reemplazar es cero, entonces el valor 
es insertado en el array antes de la posici&#xF3;n inicial: <strong>no se eliminan 
elementos</strong></li>
<li>Si el valor a la <strong>derecha es un arreglo</strong>, sus elementos se utilizan en el 
reemplazo: el tama&#xF1;o del arreglo destino es actualizado si la cantidad de
elementos a la derecha difiere de los elementos a reemplazar</li>
</ul></li>
</ul>

<h2>Ejemplo clarificador</h2>

<pre class="sh_ruby"><code>a = [ 1, 3, 5, 7, 9 ]
a[2, 2] = 'cat'
a[2, 0] = 'dog'
a[1, 1] = [ 9, 8, 7 ]
a[0..3] = []
a[5..6] = 99, 98</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/8">
<h1>Arrays usados como pilas</h1>

<ul>
<li>Podomos invocar los siguientes m&#xE9;todos de <code>Array</code>

<ul>
<li><code>push</code></li>
<li><code>pop</code></li>
</ul></li>
</ul>

<h2>La Pila</h2>

<pre class="sh_ruby"><code>stack = []
stack.push "red"
stack.push "green"
stack.push "blue"
p stack
puts stack.pop
puts stack.pop
puts stack.pop
p stack</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/9">
<h1>Arrays usados como colas</h1>

<ul>
<li>Podomos invocar los siguientes m&#xE9;todos de <code>Array</code>

<ul>
<li><code>unshift</code></li>
<li><code>shift</code></li>
</ul></li>
</ul>

<h2>La Cola</h2>

<pre class="sh_ruby"><code>queue = []
queue.push "red"
queue.push "green"
puts queue.shift
puts queue.shift</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/10">
<h1>El principio y el final</h1>

<pre class="sh_ruby"><code>array = [ 1, 2, 3, 4, 5, 6, 7 ]
p array.first(4)
p array.last(4)</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/11">
<h1>Hashes</h1>

<ul>
<li>Los arreglos se indexan con enteros, los hashes con objetos

<ul>
<li>S&#xED;mbolos, strings, expresiones regulares, etc</li>
</ul></li>
<li>Cuando se almacena un valor en un hash, deben proveerse dos objetos:

<ul>
<li>El &#xED;ndice, generalmente llamado <em>key</em></li>
<li>La entrada a almacenar en dicho &#xED;ndice, generalmente llamdo <em>valor</em></li>
</ul></li>
<li>El acceso a los valores referenciados por un hash se realiza por medio de los
<em>keys</em></li>
</ul>

<h2>Un ejemplo</h2>

<pre class="sh_ruby"><code>h = { 'dog' =&gt; 'canine', 'cat' =&gt; 'feline' }
h.length # =&gt; 3
h['dog'] # =&gt; "canine"
h['cow'] = 'bovine'
h[12] = 'dodecine'
h['cat'] = 99</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/12">
<h1>Acceso a los hashes</h1>

<ul>
<li>En el ejemplo anterior se utilizan strings como claves</li>
</ul>

<h2>Ejemplo con s&#xED;mbolos</h2>

<pre class="sh_ruby"><code># En ruby &gt;= 1.9
h = { dog: 'canine', cat: 'feline' }

# En ruby &lt; 1.9
h = { :dog =&gt; 'canine', :cat =&gt; 'feline' }</code></pre>

<ul>
<li>Comparado a los arreglos, los hashes tienen una ventaja: se indexan con
objetos</li>
<li>A partir de la versi&#xF3;n 1.9 adem&#xE1;s se recuerda el &#xF3;rden en que fueron
insertados los elementos

<ul>
<li>Cuando se itera sobre las entradas de un hash se respeta el orden de
inserci&#xF3;n</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/13">
<h1>Un ejemplo usando Array y Hash</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/14">
<h1>Frecuencia de palabras</h1>

<p><em>Calcular el n&#xFA;mero de veces que aparece una palabra en un texto</em></p>

<ul>
<li>El problema se divide en dos partes:

<ul>
<li>Separar el texto en palabras: <em>suena como un array</em></li>
<li>Luego contar cada palabra diferente: <em>suena como hash</em></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/15">
<h1>La soluci&#xF3;n</h1>

<h2>El m&#xE9;todo que obtiene las palabras</h2>

<pre class="sh_ruby"><code>def words_from_string(string)
    string.downcase.scan(/[\w']+/)
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/16">
<h1>La soluci&#xF3;n</h1>

<h2>El m&#xE9;todo que cuenta las palabras</h2>

<ul>
<li>Usaremos un hash, indexado por las palabras a contar</li>
<li>El valor ser&#xE1; la cantidad de ocurrencias 

<ul>
<li>Tendremos que incializar la primer ocurrencia en el valor 1 para luego sumar</li>
</ul></li>
</ul>

<h2>La primer idea...</h2>

<p><em>Asumimos que counts es un <code>Hash</code></em></p>

<pre class="sh_ruby"><code>if counts.has_key?(next_word)
    counts[next_word] += 1
else
    counts[next_word] = 1
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/17">
<h1>La soluci&#xF3;n</h1>

<ul>
<li>Podemos ordenar un poco la idea anterior

<ul>
<li><code>Hash.new</code> puede recibir como par&#xE1;metro el valor usado para incializar cada
valor del Hash. <em>(por ejemplo cuando se accede a un valor que no existe a&#xFA;n en
el Hash)</em></li>
</ul></li>
</ul>

<h2>La misma idea m&#xE1;s ordenada</h2>

<pre class="sh_ruby"><code>def count_frequency(word_list)
    counts = Hash.new(0)
    for word in word_list
        counts[word] += 1
    end
    counts
end</code></pre>

<p>Ver el ejemplo completo en la carpeta <code>samples/05/words_frequency</code></p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/18">
<h1>Testeando nuestra soluci&#xF3;n</h1>

<ul>
<li>Aplicar un test r&#xE1;pido es una buena pr&#xE1;ctica.</li>
<li>Si bien lo veremos m&#xE1;s adelante, vamos introduciendo el concepto</li>
<li>Utilizaremos un framework de test llamado <code>Test::Unit</code> que ya incluye ruby como
parte de la librer&#xED;a est&#xE1;ndar</li>
<li>S&#xF3;lo explicaremos el m&#xE9;todo <code>assert_equal</code> que chequea si los dos par&#xE1;metros 
que se le env&#xED;an son iguales, indicando <strong>fuertemente</strong> si as&#xED; no
sucede</li>
<li>Utilizaremos <strong>afirmaciones</strong> <em>(en ingl&#xE9;s assertions)</em> para testear los dos
m&#xE9;todos implementados, uno por vez

<ul>
<li>He aqu&#xED; la raz&#xF3;n por la que se escribieron como m&#xE9;todos separados</li>
<li>Tener m&#xE9;todos diferentes permite testearlos en forma aislada</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/19">
<h1>Testeamos <code>words_from_string</code></h1>

<pre class="sh_ruby"><code>require_relative 'words_from_string.rb'
require 'test/unit'

class TestWordsFromString &lt; Test::Unit::TestCase
    def test_empty_string
        assert_equal([], words_from_string(""))
        assert_equal([], words_from_string(" "))
    end
    def test_single_word
        assert_equal(["cat"], words_from_string("cat"))
        assert_equal(["cat"], words_from_string(" cat "))
    end
    def test_many_words
        assert_equal(["the", "cat", "sat", "on","the","mat"],
                words_from_string("the cat sat on the mat"))
    end
    def test_ignores_punctuation
        assert_equal(["the", "cat's", "mat"],
                words_from_string("&lt;the!&gt; cat's, -mat...-"))
    end
end</code></pre>

<p>En esta clase, los m&#xE9;todos que comienzan con <strong>test</strong> ser&#xE1;n corridos
por el framework de testing</p>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/20">
<h1>Testeamos <code>count_frequency</code></h1>

<pre class="sh_ruby"><code>require_relative 'count_frequency.rb'
require 'test/unit'

class TestCountFrequency &lt; Test::Unit::TestCase
    def test_empty_list
        assert_equal({}, count_frequency([]))
    end
    def test_single_word
        assert_equal({"cat" =&gt; 1}, count_frequency(["cat"]))
    end
    def test_two_different_words
        assert_equal({"cat" =&gt; 1, "sat" =&gt; 1},
                    count_frequency(["cat", "sat"]))
    end
    def test_two_words_with_adjacent_repeat
        assert_equal({"cat" =&gt; 2, "sat" =&gt; 1},
                    count_frequency(["cat", "cat", "sat"]))
    end
    def test_two_words_with_non_adjacent_repeat
        assert_equal({"cat" =&gt; 2, "sat" =&gt; 1},
                    count_frequency(["cat", "sat", "cat"]))
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/21">
<h1>Bloques e iteradores</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/22">
<h1>Introducci&#xF3;n</h1>

<h2>En <code>samples/05/words_frequency/top_five</code> usamos:</h2>

<pre class="sh_ruby"><code>for i in 0...5
    word = top_five[i][0]
    count = top_five[i][1]
    puts "#{word}: #{count}"
end</code></pre>

<p>En cualquier lenguaje esto es natural</p>

<h2>Mucho m&#xE1;s intuitivo es:</h2>

<pre class="sh_ruby"><code>top_five.each do |word, count|
    puts "#{word}: #{count}"
end

# o m&#xE1;s simple:
top_five.each { |word, count| "#{word}: #{count}" }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/23">
<h1>Bloques</h1>

<ul>
<li>Un bloque es c&#xF3;digo encerrado entre llaves o las palabras claves <code>do</code> y <code>end</code></li>
<li>Ambas formas son id&#xE9;nticas, salvo por la precedencia 

<ul>
<li>Cuando el c&#xF3;digo del bloque entra en una l&#xED;nea usar {}</li>
<li>Cuando tiene m&#xE1;s de una l&#xED;nea usar <code>do</code> / <code>end</code></li>
</ul></li>
<li>Los bloques pueden verse como m&#xE9;todos an&#xF3;nimos</li>
<li>Pueden recibir par&#xE1;metros, que se explicitan entre barras verticales <code>|</code></li>
<li>El c&#xF3;digo de un bloque no se ejecuta cuando se define, sino que se almacenar&#xE1;
para ser ejecutado m&#xE1;s adelante</li>
<li>En ruby, los bloques s&#xF3;lo podr&#xE1;n usarse despu&#xE9;s de la <em>invocaci&#xF3;n</em> de alg&#xFA;n
m&#xE9;todo

<ul>
<li>Si el m&#xE9;todo recibe par&#xE1;metros, entonces aparecer&#xE1; luego de ellos</li>
<li>Podr&#xED;a verse incluso como un par&#xE1;metro extra que es pasado al m&#xE9;todo</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/24">
<h1>Ejemplo</h1>

<h2>Suma de los cuadrados de los n&#xFA;meros en un arreglo</h2>

<pre class="sh_ruby"><code>sum = 0
[1, 2, 3, 4].each do |value|
    square = value * value
    sum += square
end
puts sum</code></pre>

<ul>
<li>El bloque se invoca para cada elemento en el arreglo</li>
<li>El elemento del arreglo es pasado al bloque en la variable <code>value</code></li>
<li>La variable <code>sum</code> declarada fuera del bloque es actualizada dentro del bloque

<ul>
<li><strong>Regla importante:</strong> <em>si existe una variable en el bloque con el mismo
nombre que una variable dentro del alcance fuera del bloque, ambas ser&#xE1;n la
misma. En el ejemplo hay s&#xF3;lo una variable <code>sum</code></em></li>
<li>Veremos que el comportamiento mencionado podremos cambiarlo</li>
<li>Si una variable aparece s&#xF3;lo en el bloque, entonces ser&#xE1; local al mismo (como
<code>square</code>)</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/25">
<h1>Los casos no esperados</h1>

<pre class="sh_ruby"><code># assume Shape defined elsewhere
square = Shape.new(sides: 4) 
#
# .. lots of code
#
sum = 0
[1, 2, 3, 4].each do |value|
    square = value * value
    sum += square
end

puts sum
square.draw # BOOM!</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/26">
<h1>Mas casos</h1>

<h2>No sucede lo mismo con los argumentos al bloque</h2>

<pre class="sh_ruby"><code>value = "some shape"
[ 1, 2 ].each {|value| puts value }
puts value</code></pre>

<h2>Podemos solucionar el problema de <code>square</code></h2>

<pre class="sh_ruby"><code>square = "some shape"
sum = 0
[1, 2, 3, 4].each do |value; square|
    square = value * value # different variable
    sum += square
end
puts sum
puts square</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/27">
<h1>La magia de los bloques</h1>

<ul>
<li>Mencionamos que los bloques se utilizan de forma adyacente a la llamada a un
m&#xE9;todo y que no se ejecutan en el momento en que aparecen en el c&#xF3;digo</li>
<li>Para lograr este comportamiento, dentro de un m&#xE9;todo cualquiera, podremos
invocar un bloque

<ul>
<li>Los bloques se invocar&#xE1;n como si fueran m&#xE9;todos</li>
<li>Para invocar un bloque se utiliza la sentencia <code>yield</code></li>
<li>Al invocar <code>yield</code> ruby invocar&#xE1; al c&#xF3;digo del bloque </li>
<li>Cuando el bloque finaliza, ruby devuelve el c&#xF3;digo inmediatamente al
finalizar el llamado a <code>yield</code></li>
</ul></li>
</ul>

<h2>Un ejemplo</h2>

<pre class="sh_ruby"><code>def three_times
    yield
    yield
    yield
end
three_times { puts "Hola" }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/28">
<h1>Par&#xE1;metros a un bloque</h1>

<ul>
<li>Cuando utilizamos yield podemos enviarle un par&#xE1;metro

<ul>
<li>El par&#xE1;metro enviado se mapea con el definido en el bloque entre las barras
verticales</li>
</ul></li>
<li>Un bloque puede retornar un valor y ser usado en el m&#xE9;todo</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/29">
<h1>Ejemplo de env&#xED;o de par&#xE1;metros</h1>

<pre class="sh_ruby"><code>def fib_up_to(max)
    i1, i2 = 1, 1
    while i1 &lt;= max
        yield i1
        i1, i2 = i2, i1+i2
    end
end

fib_up_to(1000) {|f| print f, " " }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/30">
<h1>Ejemplo de uso del valor retornado</h1>

<pre class="sh_ruby"><code>class Array
    def my_find
        for i in 0...size
            value = self[i]
            return value if yield(value)
        end
        return nil
    end
end

(1..200).to_a.my_find {|x| x%5 == 0}
(1..200).to_a.my_find {|x| x == 0}</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/31">
<h1>Los iteradores</h1>

<ul>
<li>Las clases que implementan colecciones, como <code>Array</code> <em>hacen lo que hacen
mejor:</em>

<ul>
<li>Acceder a los elementos que contienen</li>
</ul></li>
<li>El comportamiento de qu&#xE9; hacer con cada elemento lo delegan a la aplicaci&#xF3;n

<ul>
<li>Permitiendo que nos concentremos s&#xF3;lo en un requerimiento particular</li>
<li>En los casos anteriores (<code>find</code>), ser&#xED;a encontrar un elemento para el cual
el criterio sea verdadero</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/32">
<h1>Los iteradores <code>each</code> y <code>collect</code></h1>

<ul>
<li>El iterador <code>each</code> es el m&#xE1;s simple 

<ul>
<li>Solo invoca <code>yield</code> para cada elemento</li>
</ul></li>
<li>El iterador <code>collect</code> tambi&#xE9;n conocido como <code>map</code> 

<ul>
<li>Invoca <code>yield</code> para cada elemento. El resultado lo guarda en un nuevo 
arreglo que es <strong>retornado</strong></li>
</ul></li>
</ul>

<h2>Ejemplos</h2>

<pre class="sh_ruby"><code>[ 1, 3, 5, 7, 9 ].each {|i| puts i }

["H", "A", "L"].collect {|x| x.succ }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/33">
<h1>Otros usos de iteradores</h1>

<ul>
<li>Los iteradores no solo se usan con array y hash</li>
<li>Su l&#xF3;gica es muy utilizada en las clases de entrada / salida

<ul>
<li>Estas clases implementan una interfaz de iteradir que retorna l&#xED;neas
sucesivas o bytes si rabajamos en bajo nivel</li>
</ul></li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>f = File.open("testfile")
f.each { |line| puts "The line is: #{line}"}
f.close</code></pre>

<h2>Y si necesitamos el &#xED;ndice</h2>

<pre class="sh_ruby"><code>f = File.open("testfile")
f.each_with_index do |line, index| 
    puts "Line #{index} is: #{line}" 
end
f.close</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/34">
<h1>El caso de <code>inject</code></h1>

<ul>
<li>Este iterador tiene un nombre <em>raro</em></li>
<li>Permite acumular un valor a lo largo de los miembros de una colecci&#xF3;n</li>
<li>Recibe un par&#xE1;metro que es el valor inicial para comenzar a acumular

<ul>
<li>Si no se especifica <strong>toma el primer elemento de la colecci&#xF3;n</strong></li>
</ul></li>
</ul>

<h2>Ejemplos</h2>

<pre class="sh_ruby"><code>[1,3,5,7].inject(0) {|sum, element| sum+element}
[1,3,5,7].inject {|sum, element| sum+element}

[1,3,5,7].inject(1) {|prod, element| prod*element}
[1,3,5,7].inject {|prod, element| prod*element}</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/35">
<h1>El caso de <code>inject</code></h1>

<h2>Generando m&#xE1;s m&#xED;stica para <code>inject</code></h2>

<pre class="sh_ruby"><code>
[1,3,5,7].inject(:+)


[1,3,5,7].inject 100, :+ 


[1,3,5,7].inject(:*)</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/36">
<h1>Enumerators</h1>

<ul>
<li>Los iteradores son muy c&#xF3;modos pero:

<ul>
<li>Son parte de la colecci&#xF3;n y no una clase a parte</li>
<li>En otros lenguajes (como Java), las colecciones no implementan sus
iteradores, sino que son clases separadas (como por ejemplo la interfaz 
Iterator de Java)</li>
<li>Es complicado iterar dos colecciones simult&#xE1;neamente</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/37">
<h1>Enumerators</h1>

<ul>
<li>La soluci&#xF3;n: clase <code>Enumerator</code>

<ul>
<li>Se obtiene de una colecci&#xF3;n con el m&#xE9;todo <code>to_enum</code> o <code>enum_for</code></li>
</ul></li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>a = [ 1, 3, "cat" ]
h = { dog: "canine", fox: "lupine" }
# Create Enumerators
enum_a = a.to_enum
enum_h = h.to_enum
enum_a.next     # =&gt; 1
enum_h.next     # =&gt; [ :dog, "canine" ]
enum_a.next     # =&gt; 3
enum_h.next     # =&gt; [ :fox, "lupine" ]</code></pre>

<p><em>Si un iterador se utiliza sin bloque, entonces retorna un iterador</em></p>

<pre class="sh_ruby"><code>a = [1,2,3].each
a.next</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/38">
<h1>El m&#xE9;todo <code>loop</code></h1>

<ul>
<li>Ejecuta el c&#xF3;digo que se encuentra dentro del bloque</li>
<li>Se puede salir con break cuando se cumple una condici&#xF3;n</li>
<li>Si hay iteradores, <code>loop</code> terminar&#xE1; cuando el Enumerator se quede sin valores</li>
</ul>

<h2>Ejemplos</h2>

<pre class="sh_ruby"><code>loop { puts "Hola" }

i=0
loop do
    puts i += 1
    break if i &gt;= 10
end

short_enum = [1, 2, 3].to_enum
long_enum = ('a'..'z').to_enum
loop { puts "#{short_enum.next} - #{long_enum.next}" }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/39">
<h1>Usando <code>Enumerator</code> como objetos</h1>

<ul>
<li> Sabemos que es posible usar <code>each_with_index</code> en <code>Array</code></li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>result = []
[ 'a', 'b', 'c' ].each_with_index do |item, index| 
    result &lt;&lt; [item, index] 
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/40">
<h1>Usando <code>Enumerator</code> como objetos</h1>

<h2>&#xBF;Y si queremos hacer lo mismo con un <code>String</code>?</h2>

<ul>
<li>No existe <code>each_with_index</code> en <code>String</code></li>
<li>Pero s&#xED; existe <code>each_char</code> que es como <code>each</code> de <code>Array</code> pero sobre cada
caracter del string

<ul>
<li>Si no enviamos un bloque, retornar&#xE1; un <code>Enumerator</code></li>
</ul></li>
<li>La interfaz <code>Enumerable</code> define el m&#xE9;todo <code>each_with_index</code></li>
</ul>

<h2>El c&#xF3;digo quedar&#xED;a</h2>

<pre class="sh_ruby"><code>result = []
"cat".each_char.each_with_index do |item, index| 
        result &lt;&lt; [item, index] 
end
# Incluso Matz nos simplifico mas...
result = []
"cat".each_char.with_index do |item, index| 
        result &lt;&lt; [item, index] 
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/41">
<h1><code>Enumerator</code> como generadores</h1>

<ul>
<li>Podemos crear objetos enumerator expl&#xED;citamente en vez de hacerlo a partir de
una colecci&#xF3;n</li>
<li>Para ello es necesario utilizar un bloque en la creaci&#xF3;n

<ul>
<li>El c&#xF3;digo del bloque se usar&#xE1; por el objeto Enumerator cada vez que el
programa principal le solicite un nuevo valor</li>
<li>Este bloque no se ejecutar&#xE1; como otros bloques dado que su ejecuci&#xF3;n
se disparar&#xE1; cada vez que se solicita el siguiente valor</li>
<li>La ejecuci&#xF3;n del bloque se pausa y vuelve al programa principal cuando se
encuentra <code>yield</code></li>
<li>Cuando se solicita el siguiente valor, el c&#xF3;digo del bloque contin&#xFA;a a
partir de la l&#xED;nea siguiente al <code>yield</code></li>
</ul></li>
<li>Esto permite generar <strong>secuencias infinitas</strong> </li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/42">
<h1><code>Enumerator</code> como generadores</h1>

<pre class="sh_ruby"><code>fibonacci = Enumerator.new do |caller|
    i1, i2 = 1, 1
    loop do
        caller.yield i1
        i1, i2 = i2, i1+i2
    end
end

6.times { puts fibonacci.next }</code></pre>

<h2>Como <code>Enumerator</code> es <code>Enumerable</code></h2>

<pre class="sh_ruby"><code>fibonacci.first(1000).last</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/43">
<h1>Hay que tener cuidado!!</h1>

<ul>
<li>Cuidado con los enumerators que generan listas infinitas</li>
<li>Los metodos comunes de los enumeradores como <code>count</code> y <code>select</code> tratar&#xE1;n de
leer todos los elementos antes de retornar un valor

<ul>
<li>Podemos escribir la versi&#xF3;n de <code>select</code> adecuada a nuestra lista
infinito</li>
</ul></li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>def infinite_select(enum, &amp;block)
    Enumerator.new do |caller|
        enum.each do |value|
            caller.yield(value) if block.call(value)
        end
    end
end

p infinite_select(fibonacci) {|val| val % 2 == 0}.first(5)</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/44">
<h1>Haciendo algo m&#xE1;s conveniente</h1>

<ul>
<li>Podemos escribir filtros como <code>infinite_select</code> directamente en la clase
<code>Enumerator</code></li>
<li>Esto nos permitir&#xE1; encadenar filtros:</li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>class Enumerator
    def infinite_select(&amp;block)
        Enumerator.new do |caller|
            self.each do |value|
                caller.yield(value) if block.call(value)
            end
        end
    end
end

p fibonacci.
    infinite_select {|val| val % 2 == 0}.
    infinite_select {|val| val.to_s =~ /13\d$/ }.
    first(2)</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/45">
<h1>Bloques como transacciones</h1>

<ul>
<li>Podemos usar bloques para definir c&#xF3;digo que debe ejecutarse bajo ciertas
condiciones transaccionales.</li>
<li>Por ejemplo:

<ul>
<li>Abrir un archivo</li>
<li>Procesarlo</li>
<li>Cerrarlo</li>
</ul></li>
<li>Si bien esto podemos hacerlo secuencialmente, utilizando bloques simplificamos
mucho </li>
</ul>

<h2>Ejemplo b&#xE1;sico</h2>

<pre class="sh_ruby"><code>class File
    def self.open_and_process(*args)
        f = File.open(*args)
        yield f
        f.close()
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/46">
<h1>Analizamos un poco...</h1>

<ul>
<li>El m&#xE9;todo de clase implementado fue desarrollado para que entienda los mismos
par&#xE1;metros que <code>File.open</code> </li>
<li>Para ello, lo que hicimos es pasar los par&#xE1;metros tal cual se enviaron a
<code>File.open</code>

<ul>
<li>Esto se logra definiendo como argumento al m&#xE9;todo <code>*args</code> que significa:
<em>tomar todos los argumentos enviados al m&#xE9;todo actual y colocarlos en un
arreglo llamado args</em></li>
<li>Luego llamamos a <code>File.open(*args)</code>. Utilizar *args vuelve a expandir los
elementos del arreglo a par&#xE1;metros individuales</li>
</ul></li>
<li>Esta t&#xE9;cnica es tan &#xFA;til, que <code>File.open</code> ya lo implementa

<ul>
<li>Adem&#xE1;s de usar <code>File.open</code> para abrir un archivo, podemos usarlo para
directamente procesarlo como lo hac&#xED;amos con <code>open_and_process</code></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/47">
<h1>Una versi&#xF3;n m&#xE1;s completa de <code>my_open</code></h1>

<pre class="sh_ruby"><code>class File
    def self.my_open(*args)
        result = file = File.new(*args)
        if block_given?
            result = yield file
            file.close
        end
        return result
    end
end</code></pre>

<ul>
<li>Podr&#xED;a suceder un error en el procesamiento</li>
<li>Para asegurar el cierre del archivo, se deben usar exepciones, que veremos 
m&#xE1;s adelante</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/48">
<h1>Los bloques pueden ser objetos</h1>

<ul>
<li>Recordamos que anteriormente mencionamos que los bloques son como un par&#xE1;metro
adicional pasado a un m&#xE9;todo</li>
<li>Adem&#xE1;s podremos hacer que los bloques sean par&#xE1;metros expl&#xED;citos

<ul>
<li>Si el &#xFA;ltmo par&#xE1;metro en un m&#xE9;todo se prefija con ampersand (como 
&amp;action), Ruby buscar&#xE1; el codigo de un bloque cuando el m&#xE9;todo es invocado</li>
<li>Este par&#xE1;metro podr&#xE1; utilizarse como cualquier otro</li>
</ul></li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>class ProcExample
    def pass_in_block(&amp;action)
        @stored_proc = action
    end
    def use_proc(parameter)
        @stored_proc.call(parameter)
    end
end

eg = ProcExample.new
eg.pass_in_block { |param| puts "The parameter is #{param}" }
eg.use_proc(99)</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/49">
<h1>Avanzando un poco m&#xE1;s...</h1>

<ul>
<li>Vemos que <code>call</code> invoca la ejecuci&#xF3;n del bloque </li>
<li>Muchos programas utilizan esta idea para implementar <strong>callbacks</strong></li>
<li>&#xBF;Qu&#xE9; pasar&#xED;a si retonamos el bloque?</li>
</ul>

<h2>Lo analizamos</h2>

<pre class="sh_ruby"><code>def create_block_object(&amp;block)
    block
end

bo = create_block_object do |param| 
    puts "You called me with #{param}"
end
bo.call 99
bo.call "cat"</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/50">
<h1><code>Proc</code> y <code>lambda</code></h1>

<ul>
<li>Devolver un bloque es tan &#xFA;til que en Ruby hay dos formas de hacerlo:

<ul>
<li><code>lamda</code> y <code>Proc.new</code> toman un bloque y retornan un objeto</li>
<li>El objeto retornado es de la clase <code>Proc</code></li>
<li>La diferencia entre <code>lambda</code> y <code>Proc.new</code> la veremos m&#xE1;s adelante, pero ya
hemos mencionado que <code>lambda</code> controla los par&#xE1;metros que requiere el
bloque, mientras que <code>Proc</code> no lo hace</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/51">
<h1>Los bloques pueden ser Closures</h1>

<ul>
<li>Recordamos haber mencionamos que los bloques pueden utilizar variables que
est&#xE1;n dentro del alcance del bloque</li>
<li>Veremos ahora un uso diferente de un bloque haciendo esto</li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>def n_times(thing)
    lambda {|n| thing * n }
end
p1 = n_times(10)
p1.call(3)
p1.call(4)
p2 = n_times("Hola ")
p2.call(3)</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/52">
<h1>&#xBF;Qu&#xE9; es un Closure?</h1>

<ul>
<li>El m&#xE9;todo <code>n_times</code> referencia el par&#xE1;metro <code>thing</code> que es usado por el bloque</li>
<li>Aunque en las llamadas a <code>call</code> (y por ende en la ejecuci&#xF3;n del bloque) el 
par&#xE1;metro <code>thing</code> est&#xE1; fuera del alcance, el par&#xE1;metro se mantiene accesible
dentro del bloque</li>
<li>Esto es un closure:

<ul>
<li>Variables en el alcance cercano que son referenciadas por el bloque se
mantienen accesibles por la vida del bloque y la vida del objeto Proc creado
para este bloque</li>
</ul></li>
</ul>

<h2>Otro ejemplo</h2>

<pre class="sh_ruby"><code>def what_do_i_do?
    value = 1
    lambda { value += value }
end

let_me_see = what_do_i_do?
let_me_see.call
let_me_see.call</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/53">
<h1>Notaci&#xF3;n alternativa</h1>

<h2>A partir de ruby 1.9</h2>

<pre class="sh_ruby"><code>lambda { |params| ... }

# es equivalente a

-&gt;params { ... }

# Y con par&#xE1;metros

proc1 = -&gt; arg {puts "proc1:#{arg}" }
proc2 = -&gt; arg1, arg2 {puts "proc2:#{arg1} y #{arg2}" }
proc3 = -&gt;(arg1, arg2) {puts "proc3:#{arg1} y #{arg2}" }

proc1.call "ant"
proc2.call "bee", "cat"
proc3.call "dog", "elk"</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/54">
<h1>Locas ideas</h1>

<h2>Reimplementamos un while usando bloques</h2>

<pre class="sh_ruby"><code>def my_while(cond, &amp;body)
    while cond.call
        body.call
    end
end

a = 0
my_while -&gt; { a &lt; 3 } do
    puts a
    a += 1
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets smaller" ref="05-clases-objetos-variables/02_contenedores-bloques-iteradores/55">
<h1>Lista de par&#xE1;metros a un bloque</h1>

<ul>
<li>Los argumentos a un bloque, al igual que los argumentos a un m&#xE9;todo podr&#xE1;n ser:

<ul>
<li>Argumentos splat, que se reemplazan por un arreglo como vimos en un ejemplo
previo (usando *)</li>
<li>Inicializados con un valor por defecto</li>
<li>Bloques como par&#xE1;metro (usando &amp; en el &#xFA;ltimo par&#xE1;metro)</li>
</ul></li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>proc1 = lambda do |a, *b, &amp;block|
    puts "a = #{a.inspect}"
    puts "b = #{b.inspect}"
    block.call
end
proc1.call(1, 2, 3, 4) { puts "in block1" }

proc2 = -&gt; a, *b, &amp;block do
    puts "a = #{a.inspect}"
    puts "b = #{b.inspect}"
    block.call
end
proc2.call(1, 2, 3, 4) { puts "in block2" }</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/1">
<h1>Herencia, m&#xF3;dulos y mixins</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/2">
<h1>Introducci&#xF3;n</h1>

<ul>
<li>Uno de los principios aceptados sobre buen dise&#xF1;o es la eliminaci&#xF3;n de
duplicados innecesarios</li>
<li>Trataremos de lograr que cada concepto en nuestra aplicaci&#xF3;n sea expresado s&#xF3;lo
una vez en el c&#xF3;digo</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/3">
<h1>Herencia</h1>

<ul>
<li>Permite crear clases que son un refinamiento o especializaci&#xF3;n de otra clase</li>
<li>A esta clase se la llama <em>subclase</em> de la original</li>
<li>A la clase original se la llama <em>superclase</em> de la subclase</li>
<li>Tambi&#xE9;n se utilizan los t&#xE9;rminos: clase padre y clase hija</li>
<li>El mecanismo de herencia es simple:

<ul>
<li>Los hijos heredan todas las capacidades de la clase padre</li>
<li>Todos los m&#xE9;todos de instancia de la clase padre estar&#xE1;n disponibles en los
hijos</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/4">
<h1>Ejemplo de herencia</h1>

<pre class="sh_ruby"><code>class Parent
    def say_hello
        puts "Hello from #{self}"
    end
end

p = Parent.new
p.say_hello

# Subclass the parent...
class Child &lt; Parent
end

c = Child.new
c.say_hello</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/5">
<h1>Conociendo la herencia</h1>

<h2>El m&#xE9;todo <code>superclass</code> devuelve la clase padre</h2>

<pre class="sh_ruby"><code>puts "The superclass of Child is #{Child.superclass}"
puts "The superclass of Parent is #{Parent.superclass}"
puts "The superclass of Object is #{Object.superclass}"</code></pre>

<ul>
<li>Si no se define superclase, Ruby asume <code>Object</code>

<ul>
<li><code>to_s</code> est&#xE1; definido aqu&#xED;</li>
</ul></li>
<li><code>BasicObject</code> es utilizado en metaprogramaci&#xF3;n. 

<ul>
<li>Su padre es <code>nil</code></li>
<li>Es la ra&#xED;z: todas las clases lo tendran como ancestro </li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/6">
<h1>Veamos un ejemplo completo</h1>

<ul>
<li><code>GServer</code> es un servidor TCP/IP gen&#xE9;rico</li>
<li>Agregaremos funcionalidad b&#xE1;sica a nuestro servicio subclaseando GServer

<ul>
<li>El servicio mostrar&#xE1; las &#xFA;ltimas lineas del archivo de logs del sistema:
<code>/var/log/syslog</code></li>
</ul></li>
<li>GServer manipula todo lo relacionado a sockets TPC. 

<ul>
<li>Nosotros s&#xF3;lo indicaremos el puerto en la inicializaci&#xF3;n</li>
<li>Cuando un cliente se conecte, el objeto GServer invocar&#xE1; al m&#xE9;todo <code>serve</code></li>
<li>GServer no hace nada en el m&#xE9;todo que implementa <code>serve</code></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/7">
<h1>LogServer</h1>

<pre class="sh_ruby"><code>require 'gserver'
class LogServer &lt; GServer
    def initialize
        super(12345)
    end
    def serve(client)
        client.puts get_end_of_log_file
    end
    private
        def get_end_of_log_file
            File.open("/var/log/syslog") do |log|
                # back up 1000 characters from end
                log.seek(-1000, IO::SEEK_END)
                # ignore partial line
                log.gets
                # and return rest
                log.read
            end
        end
end

server = LogServer.new
server.start.join</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/8">
<h1>&#xBF;C&#xF3;mo hemos usado la herencia?</h1>

<ul>
<li><code>LogServer</code> hereda de <code>GServer</code></li>
<li>Esto indica que: 

<ul>
<li>LogServer es un GServer, compartiendo toda su funcionalidad</li>
<li>LogServer es una especializaci&#xF3;n</li>
</ul></li>
<li>La primer especializaci&#xF3;n es con <code>initialize</code>

<ul>
<li>Se fuerza el puerto a 12345</li>
<li>El puerto es un par&#xE1;metro del constructor de GServer</li>
<li>Para invocar el m&#xE9;todo constructor del padre, utilizamos <code>super</code></li>
<li>Cando se invoca <code>super</code>, Ruby env&#xED;a el m&#xE9;todo a la clase padre del objeto
actual, indicando que invoque el mismo m&#xE9;todo que se est&#xE1; ejecutando en el
hijo. Se enviar&#xE1;n los par&#xE1;metros que fueron pasados a <code>super</code></li>
</ul></li>
<li>La implementaci&#xF3;n de <code>serve</code> es algo com&#xFA;n en OO

<ul>
<li>El padre asume que ser&#xE1; subclaseado invocando un m&#xE9;todo que asume ser&#xE1;
implementado por sus hijos</li>
<li>Esto permite a la clase padre implementar lo m&#xE1;s pesado del procesamiento y
delegar a los hijos mediante callbacks funcionalidad extra</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets incremental" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/9">
<h1>&#xBF;C&#xF3;mo hemos usado la herencia?</h1>

<ul>
<li><p>Veremos m&#xE1;s adelante que esta pr&#xE1;ctica <strong><em>muy com&#xFA;n en OO</em></strong> no la convierte en <strong><em>un buen dise&#xF1;o</em></strong></p></li>
<li><p>En su lugar veremos <strong><em>mixins</em></strong></p></li>
<li><p>Pero para explicar mixins, antes tenemos que explicar <strong><em>m&#xF3;dulos</em></strong></p></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content center" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/10">
<h1>Modulos</h1>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/11">
<h1>Modulos</h1>

<ul>
<li>Los m&#xF3;dulos son una forma de agrupar m&#xE9;todos, clases y constantes. </li>
<li>Proveen dos beneficios:

<ul>
<li>Proveen <strong>namespaces</strong> y previenen el solapamiento de nombres</li>
<li>Son la clave de los <strong>mixins</strong></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/12">
<h1>Namespaces</h1>

<ul>
<li>A medida que los programas crecen, surge c&#xF3;digo reusables</li>
<li>Es as&#xED; como aparecen las librer&#xED;as</li>
<li>Deseamos agrupar en archivos diferentes estas rutinas de forma tal
de poder reusarlas en programas distintos</li>
<li>Generalmente estas rutinas pertenecer&#xE1;n a una clase, o grupos de clases
interrelacionadas, que podr&#xED;amos disponer en un &#xFA;nico archivo

<ul>
<li>Sin embargo, a veces queremos agrupar cosas que no necesariamente forman una
clase</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/13">
<h1>Namespaces</h1>

<ul>
<li>Como una primer idea, podr&#xED;amos pensar en disponer todos los archivos que
componen nuestra librer&#xED;a y luego cargar el archivo en nuestro programa cuando
lo necesite</li>
<li>Esta idea tiene un problema si definimos funciones con nombres que son iguales 
a los de otra librer&#xED;a</li>
</ul>

<h2>La soluci&#xF3;n</h2>

<pre class="sh_ruby"><code>module Trig
    PI = 3.141592654
    def Trig.sin(x)
    # ..
    end
    def Trig.cos(x)
    # ..
    end
end
module Moral
    VERY_BAD = 0
    BAD = 1
    def Moral.sin(badness)
    # ...
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/14">
<h1>&#xBF;Como se usa?</h1>

<pre class="sh_ruby"><code>y = Trig.sin(Trig::PI/4)
wrongdoing = Moral.sin(Moral::VERY_BAD)</code></pre>

<ul>
<li>As&#xED; como en los m&#xE9;todos de clase, se invocan los m&#xE9;todos de un m&#xF3;dulo
precedi&#xE9;ndolos con el nombre del m&#xF3;dulo y un punto</li>
<li>Las constantes se referencian con el nombre del m&#xF3;dulo y dos puntos</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/15">
<h1>Mixins</h1>

<ul>
<li>En el ejemplo reciente, definimos m&#xE9;todos del m&#xF3;dulo que prefij&#xE1;bamos con el
nombre del m&#xF3;dulo: <code>Trig.cos</code></li>
<li>La primer asociaci&#xF3;n es que los m&#xE9;todos de un m&#xF3;dulo son como m&#xE9;todos de clase</li>
<li>La siguiente pregunta ser&#xED;a: <em>Si los m&#xE9;todos del m&#xF3;dulo son como m&#xE9;todos de
clase, qu&#xE9; ser&#xED;an los m&#xE9;todos de instancia de un m&#xF3;dulo?</em>

<ul>
<li>Un m&#xF3;dulo <strong>no puede tener instancias</strong> porque no es una clase</li>
<li>Podremos <strong>incluir</strong> un m&#xF3;dulo a una definici&#xF3;n de clase</li>
<li>Cuando esto sucede, los m&#xE9;todos de instancia definidos en el m&#xF3;dulo son
incluidos como m&#xE9;todos de instancia de la clase. Se <strong>mezclan</strong> (mixed in)</li>
<li>En efecto, los m&#xF3;dulos mixed in se comportan como superclases</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/16">
<h1>Ejemplo</h1>

<pre class="sh_ruby"><code>module Debug
    def who_am_i?
        "#{self.class.name}(\##{self.object_id}):#{self.to_s}"
    end
end

class Phonograph
    include Debug
    def initialize(n); @n=n; end
    def to_s; @n; end
end

class EightTrack
    include Debug
    def initialize(n); @n=n; end
    def to_s; @n; end
end

ph = Phonograph.new("West End Blues")
et = EightTrack.new("Surrealistic Pillow")
ph.who_am_i?
et.who_am_i?</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/17">
<h1>El uso de <code>include</code></h1>

<ul>
<li>El <code>include</code> en Ruby agrega una referencia al m&#xF3;dulo que agregar&#xE1; nuevos
m&#xE9;todos a nuestra clase</li>
<li>Si varias clases incluyen el mismo m&#xF3;dulo, todas tendran referencias al mismo</li>
<li>Si modificamos el m&#xF3;dulo durante la ejecuci&#xF3;n del programa, todas las clases
que inclu&#xED;an el m&#xF3;dulo tomar&#xE1;n los cambios autom&#xE1;ticamente</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/18">
<h1>El potencial</h1>

<ul>
<li>El potencial real de los mixins se obtiene cuando el c&#xF3;digo de un mixin
interact&#xFA;a con c&#xF3;digo de una clase que lo utiliza</li>
<li>Analizamos el caso de un mixin que es parte de la librer&#xED;a est&#xE1;ndar de Ruby,
<code>Comparable</code> 

<ul>
<li>Agrega los operadores de comparaci&#xF3;n: <code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>&gt;=</code>, <code>&gt;</code></li>
<li>Agrega el m&#xE9;todo <code>between?</code></li>
<li>Asume que la clase que utilice este mixin, implementar&#xE1; el m&#xE9;todo <code>&lt;=&gt;</code></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/19">
<h1>Lo probamos con la clase <code>Person</code></h1>

<pre class="sh_ruby"><code>class Person
    include Comparable
    attr_reader :name
    def initialize(name)
        @name = name
    end
    def to_s
        "#{@name}"
    end
    def &lt;=&gt;(other)
        self.name &lt;=&gt; other.name
    end
end
p1 = Person.new("Matz")
p2 = Person.new("Guido")
p3 = Person.new("Larry")
[p1, p2, p3].sort</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/20">
<h1>Iteradores y el m&#xF3;dulo <code>Enumerable</code></h1>

<ul>
<li>Si queremos que nuestra clase entienda los iteradores <code>each</code>, <code>include?</code>,
<code>find_all?</code>

<ul>
<li>Incluimos el m&#xF3;dulo <code>Enumerable</code></li>
<li>Implementamos el iterador <code>each</code></li>
</ul></li>
<li>Si adem&#xE1;s los elementos de nuestra colecci&#xF3;n implementan <code>&lt;=&gt;</code> entonces
  dispondremos de: 

<ul>
<li><code>min</code></li>
<li><code>max</code> </li>
<li><code>sort</code> </li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/21">
<h1>Composici&#xF3;n de m&#xF3;dulos</h1>

<h2>Creamos nuestra clase Enumerable</h2>

<pre class="sh_ruby"><code>class VowelFinder
    include Enumerable
    def initialize(string)
        @string = string
    end
    def each
        @string.scan(/[aeiou]/) do |vowel|
            yield vowel
        end
    end
end
vf = VowelFinder.new "El murcielago tiene todas"
vf.inject(:+)</code></pre>

<h2>Lo mismo hacemos con otras colecciones</h2>

<pre class="sh_ruby"><code>[ 1, 2, 3, 4, 5 ].inject(:+)
( 'a'..'m').inject(:+)</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/22">
<h1>Creamos el m&#xF3;dulo <code>Summable</code></h1>

<pre class="sh_ruby"><code>module Summable
    def sum
        inject(:+)
    end
end</code></pre>

<h2>Lo aplicamos a las clases del ejemplo</h2>

<pre class="sh_ruby"><code>class Array; include Summable; end
class Range; include Summable; end
class VowelFinder; include Summable; end

[ 1, 2, 3, 4, 5 ].sum
('a'..'m').sum
vf.sum</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/23">
<h1>Variables de instancia en mixins</h1>

<ul>
<li>En ruby las variables de instancia se crean cuando se nombran por
primera vez </li>
<li>Esto significa que un Mixin podr&#xE1; crear variables de instancia si las nombra
por primera vez en la clase</li>
</ul>

<h2>Ejemplo</h2>

<pre class="sh_ruby"><code>module Observable
    def observers
        @observer_list ||= []
    end
    def add_observer(obj)
        observers &lt;&lt; obj
    end
    def notify_observers
        observers.each {|o| o.update }
    end
end</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/24">
<h1>Variables de instancia en mixins</h1>

<ul>
<li>Sin embargo, este uso es <strong>riesgoso</strong></li>
<li>Los nombres de las variables pueden colisionar con otro nombre de la clase u
otros m&#xF3;dulos.</li>
<li>Un programa que caiga en este escenario dar&#xE1; resultados err&#xF3;neos y
dif&#xED;ciles de rasterar</li>
</ul>

<h2>Soluci&#xF3;n</h2>

<ul>
<li>La mayor&#xED;a de las veces, los modulos Mixins no usan variables de instancia,
sino accessors</li>
<li>En caso de necesitarlo, utilizar nombres que se prefijen con el nombre del
m&#xF3;dulo por ejemplo</li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content bullets small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/25">
<h1>Resoluci&#xF3;n de nombres ambiguos de m&#xE9;todos</h1>

<ul>
<li><em>&#xBF;C&#xF3;mo se resuelve el nombre de un m&#xE9;todo que es el mismo en la clase, que 
es implementado en la superclase y adem&#xE1;s definido en uno o varios m&#xF3;dulos 
incluidos?</em>

<ul>
<li>Primero se busca si la clase del objeto lo implementa</li>
<li>Luego en los mixins incluidos por la clase. <em>Si tiene varios m&#xF3;dulos, el
&#xFA;ltimo ser&#xE1; el considerado</em></li>
<li>Luego en la superclase</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/26">
<h1>Caso 1</h1>

<pre class="sh_ruby"><code>module MyModule
    def test
        "Module"
    end
end

class Parent
    def test
        "Parent"
    end
end

class Child &lt; Parent
    include MyModule
    def test
        "Child"
    end
end

t = Child.new
p t.test</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/27">
<h1>Caso 2</h1>

<pre class="sh_ruby"><code>module MyModule
    def test
        "Module"
    end
end

class Parent
    def test
        "Parent"
    end
end

class Child &lt; Parent
    include MyModule
end

t = Child.new
p t.test</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content small" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/28">
<h1>Caso 3</h1>

<pre class="sh_ruby"><code>module MyModule
    def test1
        "Module"
    end
end

class Parent
    def test
        "Parent"
    end
end

class Child &lt; Parent
    include MyModule
end

t = Child.new
p t.test</code></pre>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/29">
<h1>Herencia, Mixins y Dise&#xF1;o</h1>

<ul>
<li>Herencia y Mixins ambos permiten escribir c&#xF3;digo en un &#xFA;nico lugar</li>
<li><em>&#xBF;Cu&#xE1;ndo usar cada uno?</em>

<ul>
<li>El uso de herencia debe aplicarse cuando se cumple la propiedade <strong>es un</strong></li>
<li>La herencia puede asociarse con la creaci&#xF3;n de clases, que ser&#xED;a como 
agregar nuevos tipos al lenguaje</li>
<li>Al usar herencia <strong>deber&#xED;amos en todo momento poder reemplazar por un objeto
de la subclase</strong> donde se usaba un objeto de la superclase. <em>Los hijos deben
hacer honor a los contratos asumidos por el padre</em></li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="uncover"><div class="content smbullets smaller" ref="05-clases-objetos-variables/03_herencia-modulos-mixins/30">
<h1>Herencia, Mixins y Dise&#xF1;o</h1>

<ul>
<li>La realidad dice que el uso de herencia no siempre se usa para representar la
relaci&#xF3;n <em>es un</em>

<ul>
<li>En realidad muchas veces se utiliza <strong>mal</strong> en situaciones que representan 
una relaci&#xF3;n de <em>posee un</em> o <em>utiliza un</em></li>
<li>El mundo se crea a partir de <strong>composiciones</strong> m&#xE1;s que de restricciones de
herencia estrictas</li>
</ul></li>
<li>Dado que la herencia era el &#xFA;nico mecanismo disponible para compartir c&#xF3;digo,
nos volvimos <strong>vagos</strong> y empezamos a afirmar cosas como: <em>Que una Persona</em> <strong><em>es un</em></strong> <em>DatabaseWrapper</em>

<ul>
<li>Pero una persona no es un DatbaseWrapper</li>
<li>Una Persona <strong>usa</strong> un DatabaseWrapper para proveer persistencia</li>
</ul></li>
<li>La herencia adem&#xE1;s representa un gran acomplamiento entre dos componentes.
Cambiar la herencia ser&#xED;a algo complejo en cualquier programa mediano</li>
<li><strong>Debemos utilizar composici&#xF3;n cada vez que encontramos una relaci&#xF3;n:</strong> A
<em>usa</em> B o A <em>tiene un</em> B

<ul>
<li>Nuestra persona no ser&#xED;a un DatabseWrapper, incluir&#xED;a la funcionalidad para
persistir y recuperar una persona</li>
</ul></li>
</ul>
</div>
</div></div>
<div id="pauseScreen">
  
</div>

</body>
</html>
